/**
 * skylark-threejs-ex - A version of threejs extentions library that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-threejs-ex/
 * @license MIT
 */
define(["skylark-threejs"],function(t){return t.Lut=function(t,a){return this.lut=[],this.setColorMap(t,a),this},t.Lut.prototype={constructor:t.Lut,lut:[],map:[],n:256,minV:0,maxV:1,set:function(a){return a instanceof t.Lut&&this.copy(a),this},setMin:function(t){return this.minV=t,this},setMax:function(t){return this.maxV=t,this},setColorMap:function(a,i){this.map=t.ColorMapKeywords[a]||t.ColorMapKeywords.rainbow,this.n=i||32;var n=1/this.n;this.lut.length=0;for(var s=0;s<=1;s+=n)for(var r=0;r<this.map.length-1;r++)if(s>=this.map[r][0]&&s<this.map[r+1][0]){var h=this.map[r][0],o=this.map[r+1][0],e=new t.Color(this.map[r][1]),u=new t.Color(this.map[r+1][1]),m=e.lerp(u,(s-h)/(o-h));this.lut.push(m)}return this},copy:function(t){return this.lut=t.lut,this.map=t.map,this.n=t.n,this.minV=t.minV,this.maxV=t.maxV,this},getColor:function(t){t<=this.minV?t=this.minV:t>=this.maxV&&(t=this.maxV),t=(t-this.minV)/(this.maxV-this.minV);var a=Math.round(t*this.n);return a==this.n&&(a-=1),this.lut[a]},addColorMap:function(a,i){t.ColorMapKeywords[a]=i},createCanvas:function(){var t=document.createElement("canvas");return t.width=1,t.height=this.n,this.updateCanvas(t),t},updateCanvas:function(a){for(var i=a.getContext("2d",{alpha:!1}),n=i.getImageData(0,0,1,this.n),s=n.data,r=0,h=1/this.n,o=1;o>=0;o-=h)for(var e=this.map.length-1;e>=0;e--)if(o<this.map[e][0]&&o>=this.map[e-1][0]){var u=this.map[e-1][0],m=this.map[e][0],p=new t.Color(this.map[e-1][1]),l=new t.Color(this.map[e][1]),c=p.lerp(l,(o-u)/(m-u));s[4*r]=Math.round(255*c.r),s[4*r+1]=Math.round(255*c.g),s[4*r+2]=Math.round(255*c.b),s[4*r+3]=255,r+=1}return i.putImageData(n,0,0),a}},t.ColorMapKeywords={rainbow:[[0,255],[.2,65535],[.5,65280],[.8,16776960],[1,16711680]],cooltowarm:[[0,3952322],[.2,10206463],[.5,14474460],[.8,16163717],[1,11797542]],blackbody:[[0,0],[.2,7864320],[.5,15086080],[.8,16776960],[1,16777215]],grayscale:[[0,0],[.2,4210752],[.5,8355712],[.8,12566463],[1,16777215]]},t.Lut});
//# sourceMappingURL=../sourcemaps/math/Lut.js.map
