/**
 * skylark-threejs-ex - A version of threejs extentions library that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-threejs-ex/
 * @license MIT
 */
define(function(){"use strict";var t=function(t){void 0==t&&(t=Math),this.grad3=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],this.grad4=[[0,1,1,1],[0,1,1,-1],[0,1,-1,1],[0,1,-1,-1],[0,-1,1,1],[0,-1,1,-1],[0,-1,-1,1],[0,-1,-1,-1],[1,0,1,1],[1,0,1,-1],[1,0,-1,1],[1,0,-1,-1],[-1,0,1,1],[-1,0,1,-1],[-1,0,-1,1],[-1,0,-1,-1],[1,1,0,1],[1,1,0,-1],[1,-1,0,1],[1,-1,0,-1],[-1,1,0,1],[-1,1,0,-1],[-1,-1,0,1],[-1,-1,0,-1],[1,1,1,0],[1,1,-1,0],[1,-1,1,0],[1,-1,-1,0],[-1,1,1,0],[-1,1,-1,0],[-1,-1,1,0],[-1,-1,-1,0]],this.p=[];for(var r=0;r<256;r++)this.p[r]=Math.floor(256*t.random());this.perm=[];for(r=0;r<512;r++)this.perm[r]=this.p[255&r];this.simplex=[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]]};return t.prototype.dot=function(t,r,i){return t[0]*r+t[1]*i},t.prototype.dot3=function(t,r,i,h){return t[0]*r+t[1]*i+t[2]*h},t.prototype.dot4=function(t,r,i,h,o){return t[0]*r+t[1]*i+t[2]*h+t[3]*o},t.prototype.noise=function(t,r){var i,h,o=(t+r)*(.5*(Math.sqrt(3)-1)),s=Math.floor(t+o),e=Math.floor(r+o),p=(3-Math.sqrt(3))/6,a=(s+e)*p,d=t-(s-a),n=r-(e-a);d>n?(i=1,h=0):(i=0,h=1);var m=d-i+p,f=n-h+p,u=d-1+2*p,M=n-1+2*p,l=255&s,g=255&e,c=this.perm[l+this.perm[g]]%12,v=this.perm[l+i+this.perm[g+h]]%12,y=this.perm[l+1+this.perm[g+1]]%12,q=.5-d*d-n*n,x=.5-m*m-f*f,b=.5-u*u-M*M;return 70*((q<0?0:(q*=q)*q*this.dot(this.grad3[c],d,n))+(x<0?0:(x*=x)*x*this.dot(this.grad3[v],m,f))+(b<0?0:(b*=b)*b*this.dot(this.grad3[y],u,M)))},t.prototype.noise3d=function(t,r,i){var h,o,s,e,p,a,d=(t+r+i)*(1/3),n=Math.floor(t+d),m=Math.floor(r+d),f=Math.floor(i+d),u=1/6,M=(n+m+f)*u,l=t-(n-M),g=r-(m-M),c=i-(f-M);l>=g?g>=c?(h=1,o=0,s=0,e=1,p=1,a=0):l>=c?(h=1,o=0,s=0,e=1,p=0,a=1):(h=0,o=0,s=1,e=1,p=0,a=1):g<c?(h=0,o=0,s=1,e=0,p=1,a=1):l<c?(h=0,o=1,s=0,e=0,p=1,a=1):(h=0,o=1,s=0,e=1,p=1,a=0);var v=l-h+u,y=g-o+u,q=c-s+u,x=l-e+2*u,b=g-p+2*u,j=c-a+2*u,k=l-1+.5,w=g-1+.5,z=c-1+.5,A=255&n,B=255&m,C=255&f,D=this.perm[A+this.perm[B+this.perm[C]]]%12,E=this.perm[A+h+this.perm[B+o+this.perm[C+s]]]%12,F=this.perm[A+e+this.perm[B+p+this.perm[C+a]]]%12,G=this.perm[A+1+this.perm[B+1+this.perm[C+1]]]%12,H=.6-l*l-g*g-c*c,I=.6-v*v-y*y-q*q,J=.6-x*x-b*b-j*j,K=.6-k*k-w*w-z*z;return 32*((H<0?0:(H*=H)*H*this.dot3(this.grad3[D],l,g,c))+(I<0?0:(I*=I)*I*this.dot3(this.grad3[E],v,y,q))+(J<0?0:(J*=J)*J*this.dot3(this.grad3[F],x,b,j))+(K<0?0:(K*=K)*K*this.dot3(this.grad3[G],k,w,z)))},t.prototype.noise4d=function(t,r,i,h){var o,s,e,p,a,d,n,m,f,u,M,l,g=this.grad4,c=this.simplex,v=this.perm,y=(Math.sqrt(5)-1)/4,q=(5-Math.sqrt(5))/20,x=(t+r+i+h)*y,b=Math.floor(t+x),j=Math.floor(r+x),k=Math.floor(i+x),w=Math.floor(h+x),z=(b+j+k+w)*q,A=t-(b-z),B=r-(j-z),C=i-(k-z),D=h-(w-z),E=(A>B?32:0)+(A>C?16:0)+(B>C?8:0)+(A>D?4:0)+(B>D?2:0)+(C>D?1:0),F=A-(o=c[E][0]>=3?1:0)+q,G=B-(s=c[E][1]>=3?1:0)+q,H=C-(e=c[E][2]>=3?1:0)+q,I=D-(p=c[E][3]>=3?1:0)+q,J=A-(a=c[E][0]>=2?1:0)+2*q,K=B-(d=c[E][1]>=2?1:0)+2*q,L=C-(n=c[E][2]>=2?1:0)+2*q,N=D-(m=c[E][3]>=2?1:0)+2*q,O=A-(f=c[E][0]>=1?1:0)+3*q,P=B-(u=c[E][1]>=1?1:0)+3*q,Q=C-(M=c[E][2]>=1?1:0)+3*q,R=D-(l=c[E][3]>=1?1:0)+3*q,S=A-1+4*q,T=B-1+4*q,U=C-1+4*q,V=D-1+4*q,W=255&b,X=255&j,Y=255&k,Z=255&w,$=v[W+v[X+v[Y+v[Z]]]]%32,_=v[W+o+v[X+s+v[Y+e+v[Z+p]]]]%32,tt=v[W+a+v[X+d+v[Y+n+v[Z+m]]]]%32,rt=v[W+f+v[X+u+v[Y+M+v[Z+l]]]]%32,it=v[W+1+v[X+1+v[Y+1+v[Z+1]]]]%32,ht=.6-A*A-B*B-C*C-D*D,ot=.6-F*F-G*G-H*H-I*I,st=.6-J*J-K*K-L*L-N*N,et=.6-O*O-P*P-Q*Q-R*R,pt=.6-S*S-T*T-U*U-V*V;return 27*((ht<0?0:(ht*=ht)*ht*this.dot4(g[$],A,B,C,D))+(ot<0?0:(ot*=ot)*ot*this.dot4(g[_],F,G,H,I))+(st<0?0:(st*=st)*st*this.dot4(g[tt],J,K,L,N))+(et<0?0:(et*=et)*et*this.dot4(g[rt],O,P,Q,R))+(pt<0?0:(pt*=pt)*pt*this.dot4(g[it],S,T,U,V)))},t});
//# sourceMappingURL=../sourcemaps/math/SimplexNoise.js.map
