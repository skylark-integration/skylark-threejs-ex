/**
 * skylark-threejs-ex - A version of threejs extentions library that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-threejs-ex/
 * @license MIT
 */
define(["skylark-threejs"],function(t){return t.SimplexNoise=function(t){void 0==t&&(t=Math),this.grad3=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],this.grad4=[[0,1,1,1],[0,1,1,-1],[0,1,-1,1],[0,1,-1,-1],[0,-1,1,1],[0,-1,1,-1],[0,-1,-1,1],[0,-1,-1,-1],[1,0,1,1],[1,0,1,-1],[1,0,-1,1],[1,0,-1,-1],[-1,0,1,1],[-1,0,1,-1],[-1,0,-1,1],[-1,0,-1,-1],[1,1,0,1],[1,1,0,-1],[1,-1,0,1],[1,-1,0,-1],[-1,1,0,1],[-1,1,0,-1],[-1,-1,0,1],[-1,-1,0,-1],[1,1,1,0],[1,1,-1,0],[1,-1,1,0],[1,-1,-1,0],[-1,1,1,0],[-1,1,-1,0],[-1,-1,1,0],[-1,-1,-1,0]],this.p=[];for(var i=0;i<256;i++)this.p[i]=Math.floor(256*t.random());this.perm=[];for(i=0;i<512;i++)this.perm[i]=this.p[255&i];this.simplex=[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]]},t.SimplexNoise.prototype.dot=function(t,i,r){return t[0]*i+t[1]*r},t.SimplexNoise.prototype.dot3=function(t,i,r,o){return t[0]*i+t[1]*r+t[2]*o},t.SimplexNoise.prototype.dot4=function(t,i,r,o,s){return t[0]*i+t[1]*r+t[2]*o+t[3]*s},t.SimplexNoise.prototype.noise=function(t,i){var r,o,s=(t+i)*(.5*(Math.sqrt(3)-1)),h=Math.floor(t+s),e=Math.floor(i+s),p=(3-Math.sqrt(3))/6,a=(h+e)*p,m=t-(h-a),d=i-(e-a);m>d?(r=1,o=0):(r=0,o=1);var n=m-r+p,f=d-o+p,l=m-1+2*p,u=d-1+2*p,M=255&h,g=255&e,x=this.perm[M+this.perm[g]]%12,c=this.perm[M+r+this.perm[g+o]]%12,N=this.perm[M+1+this.perm[g+1]]%12,S=.5-m*m-d*d,v=.5-n*n-f*f,y=.5-l*l-u*u;return 70*((S<0?0:(S*=S)*S*this.dot(this.grad3[x],m,d))+(v<0?0:(v*=v)*v*this.dot(this.grad3[c],n,f))+(y<0?0:(y*=y)*y*this.dot(this.grad3[N],l,u)))},t.SimplexNoise.prototype.noise3d=function(t,i,r){var o,s,h,e,p,a,m=(t+i+r)*(1/3),d=Math.floor(t+m),n=Math.floor(i+m),f=Math.floor(r+m),l=1/6,u=(d+n+f)*l,M=t-(d-u),g=i-(n-u),x=r-(f-u);M>=g?g>=x?(o=1,s=0,h=0,e=1,p=1,a=0):M>=x?(o=1,s=0,h=0,e=1,p=0,a=1):(o=0,s=0,h=1,e=1,p=0,a=1):g<x?(o=0,s=0,h=1,e=0,p=1,a=1):M<x?(o=0,s=1,h=0,e=0,p=1,a=1):(o=0,s=1,h=0,e=1,p=1,a=0);var c=M-o+l,N=g-s+l,S=x-h+l,v=M-e+2*l,y=g-p+2*l,q=x-a+2*l,k=M-1+.5,j=g-1+.5,b=x-1+.5,w=255&d,z=255&n,A=255&f,B=this.perm[w+this.perm[z+this.perm[A]]]%12,C=this.perm[w+o+this.perm[z+s+this.perm[A+h]]]%12,D=this.perm[w+e+this.perm[z+p+this.perm[A+a]]]%12,E=this.perm[w+1+this.perm[z+1+this.perm[A+1]]]%12,F=.6-M*M-g*g-x*x,G=.6-c*c-N*N-S*S,H=.6-v*v-y*y-q*q,I=.6-k*k-j*j-b*b;return 32*((F<0?0:(F*=F)*F*this.dot3(this.grad3[B],M,g,x))+(G<0?0:(G*=G)*G*this.dot3(this.grad3[C],c,N,S))+(H<0?0:(H*=H)*H*this.dot3(this.grad3[D],v,y,q))+(I<0?0:(I*=I)*I*this.dot3(this.grad3[E],k,j,b)))},t.SimplexNoise.prototype.noise4d=function(t,i,r,o){var s,h,e,p,a,m,d,n,f,l,u,M,g=this.grad4,x=this.simplex,c=this.perm,N=(Math.sqrt(5)-1)/4,S=(5-Math.sqrt(5))/20,v=(t+i+r+o)*N,y=Math.floor(t+v),q=Math.floor(i+v),k=Math.floor(r+v),j=Math.floor(o+v),b=(y+q+k+j)*S,w=t-(y-b),z=i-(q-b),A=r-(k-b),B=o-(j-b),C=(w>z?32:0)+(w>A?16:0)+(z>A?8:0)+(w>B?4:0)+(z>B?2:0)+(A>B?1:0),D=w-(s=x[C][0]>=3?1:0)+S,E=z-(h=x[C][1]>=3?1:0)+S,F=A-(e=x[C][2]>=3?1:0)+S,G=B-(p=x[C][3]>=3?1:0)+S,H=w-(a=x[C][0]>=2?1:0)+2*S,I=z-(m=x[C][1]>=2?1:0)+2*S,J=A-(d=x[C][2]>=2?1:0)+2*S,K=B-(n=x[C][3]>=2?1:0)+2*S,L=w-(f=x[C][0]>=1?1:0)+3*S,O=z-(l=x[C][1]>=1?1:0)+3*S,P=A-(u=x[C][2]>=1?1:0)+3*S,Q=B-(M=x[C][3]>=1?1:0)+3*S,R=w-1+4*S,T=z-1+4*S,U=A-1+4*S,V=B-1+4*S,W=255&y,X=255&q,Y=255&k,Z=255&j,$=c[W+c[X+c[Y+c[Z]]]]%32,_=c[W+s+c[X+h+c[Y+e+c[Z+p]]]]%32,tt=c[W+a+c[X+m+c[Y+d+c[Z+n]]]]%32,it=c[W+f+c[X+l+c[Y+u+c[Z+M]]]]%32,rt=c[W+1+c[X+1+c[Y+1+c[Z+1]]]]%32,ot=.6-w*w-z*z-A*A-B*B,st=.6-D*D-E*E-F*F-G*G,ht=.6-H*H-I*I-J*J-K*K,et=.6-L*L-O*O-P*P-Q*Q,pt=.6-R*R-T*T-U*U-V*V;return 27*((ot<0?0:(ot*=ot)*ot*this.dot4(g[$],w,z,A,B))+(st<0?0:(st*=st)*st*this.dot4(g[_],D,E,F,G))+(ht<0?0:(ht*=ht)*ht*this.dot4(g[tt],H,I,J,K))+(et<0?0:(et*=et)*et*this.dot4(g[it],L,O,P,Q))+(pt<0?0:(pt*=pt)*pt*this.dot4(g[rt],R,T,U,V)))},t.SimplexNoise});
//# sourceMappingURL=../sourcemaps/math/SimplexNoise.js.map
