/**
 * skylark-threejs-ex - A version of threejs extentions library that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-threejs-ex/
 * @license MIT
 */
define(["skylark-threejs"],function(e){return e.PointerLockControls=function(t,o){void 0===o&&(console.warn('THREE.PointerLockControls: The second parameter "domElement" is now mandatory.'),o=document.body),this.domElement=o,this.isLocked=!1;var n,r=this,i={type:"change"},c={type:"lock"},s={type:"unlock"},m=new e.Euler(0,0,0,"YXZ"),u=Math.PI/2,d=new e.Vector3;function a(e){if(!1!==r.isLocked){var o=e.movementX||e.mozMovementX||e.webkitMovementX||0,n=e.movementY||e.mozMovementY||e.webkitMovementY||0;m.setFromQuaternion(t.quaternion),m.y-=.002*o,m.x-=.002*n,m.x=Math.max(-u,Math.min(u,m.x)),t.quaternion.setFromEuler(m),r.dispatchEvent(i)}}function l(){document.pointerLockElement===r.domElement?(r.dispatchEvent(c),r.isLocked=!0):(r.dispatchEvent(s),r.isLocked=!1)}function h(){console.error("THREE.PointerLockControls: Unable to use Pointer Lock API")}this.connect=function(){document.addEventListener("mousemove",a,!1),document.addEventListener("pointerlockchange",l,!1),document.addEventListener("pointerlockerror",h,!1)},this.disconnect=function(){document.removeEventListener("mousemove",a,!1),document.removeEventListener("pointerlockchange",l,!1),document.removeEventListener("pointerlockerror",h,!1)},this.dispose=function(){this.disconnect()},this.getObject=function(){return t},this.getDirection=(n=new e.Vector3(0,0,-1),function(e){return e.copy(n).applyQuaternion(t.quaternion)}),this.moveForward=function(e){d.setFromMatrixColumn(t.matrix,0),d.crossVectors(t.up,d),t.position.addScaledVector(d,e)},this.moveRight=function(e){d.setFromMatrixColumn(t.matrix,0),t.position.addScaledVector(d,e)},this.lock=function(){this.domElement.requestPointerLock()},this.unlock=function(){document.exitPointerLock()},this.connect()},e.PointerLockControls.prototype=Object.create(e.EventDispatcher.prototype),e.PointerLockControls.prototype.constructor=e.PointerLockControls,e.PointerLockControls});
//# sourceMappingURL=../sourcemaps/controls/PointerLockControls.js.map
