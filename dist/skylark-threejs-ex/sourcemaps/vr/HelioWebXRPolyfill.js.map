{"version":3,"sources":["vr/HelioWebXRPolyfill.js"],"names":["define","THREE","test","navigator","userAgent","console","log","xr","tempIsSessionSupported","isSessionSupported","bind","tempRequestSession","requestSession","Promise","resolve","reject","optionalFeatures","then","session","catch","error"],"mappings":";;;;;;;AAAAA,QACC,mBACC,SAASC,GAKV,GAAK,WAAWC,KAAMC,UAAUC,YAAe,OAAQD,UAAY,CAIlE,GAFAE,QAAQC,IAAK,uCAER,uBAAwBH,UAAUI,GAAK,CAE3C,MAAMC,EAAyBL,UAAUI,GAAGE,mBAAmBC,KAAMP,UAAUI,IAE/EJ,UAAUI,GAAGE,mBAAqB,WAGjC,OAAOD,EAAwB,iBAMjC,GAAK,uBAAwBL,UAAUI,IAAM,mBAAoBJ,UAAUI,GAAK,CAE/E,MAAMI,EAAqBR,UAAUI,GAAGK,eAAeF,KAAMP,UAAUI,IAEvEJ,UAAUI,GAAGK,eAAiB,WAE7B,OAAO,IAAIC,QAAS,SAAWC,EAASC,GAIvCJ,EAAoB,gBAFAK,kBAAoB,cAAe,mBAELC,KAAM,SAAWC,GAElEJ,EAASI,KAENC,MAAO,SAAWC,GAErB,OAAOL,EAAQK,SAYpB,OAAOnB","file":"../../vr/HelioWebXRPolyfill.js","sourcesContent":["define([\n\t\"skylark-threejs\"\n],function(THREE){\n\t/**\n\t * @author mvilledieu / http://github.com/mvilledieu\n\t */\n\n\tif ( /(Helio)/g.test( navigator.userAgent ) && 'xr' in navigator ) {\n\n\t\tconsole.log( \"Helio WebXR Polyfill (Lumin 0.98.0)\" );\n\n\t\tif ( 'isSessionSupported' in navigator.xr ) {\n\n\t\t\tconst tempIsSessionSupported = navigator.xr.isSessionSupported.bind( navigator.xr );\n\n\t\t\tnavigator.xr.isSessionSupported = function ( /*sessionType*/ ) {\n\n\t\t\t\t// Force using immersive-ar\n\t\t\t\treturn tempIsSessionSupported( 'immersive-ar' );\n\n\t\t\t};\n\n\t\t}\n\n\t\tif ( 'isSessionSupported' in navigator.xr && 'requestSession' in navigator.xr ) {\n\n\t\t\tconst tempRequestSession = navigator.xr.requestSession.bind( navigator.xr );\n\n\t\t\tnavigator.xr.requestSession = function ( /*sessionType*/ ) {\n\n\t\t\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\t\t\tvar sessionInit = { optionalFeatures: [ 'local-floor', 'bounded-floor' ] };\n\n\t\t\t\t\ttempRequestSession( 'immersive-ar', sessionInit ).then( function ( session ) {\n\n\t\t\t\t\t\tresolve( session );\n\n\t\t\t\t\t} ).catch( function ( error ) {\n\n\t\t\t\t\t\treturn reject( error );\n\n\t\t\t\t\t} );\n\n\t\t\t\t} );\n\n\t\t\t};\n\n\t\t}\n\n\t}\n\t\n\treturn THREE;\n});\n"]}