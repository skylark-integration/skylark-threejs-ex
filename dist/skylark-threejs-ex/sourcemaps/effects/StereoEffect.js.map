{"version":3,"sources":["effects/StereoEffect.js"],"names":["define","THREE","StereoEffect","renderer","_stereo","StereoCamera","aspect","size","Vector2","this","setEyeSeparation","eyeSep","setSize","width","height","render","scene","camera","updateMatrixWorld","parent","update","getSize","autoClear","clear","setScissorTest","setScissor","setViewport","cameraL","cameraR"],"mappings":";;;;;;;AAAAA,QACC,mBACC,SAASC,GAoDV,OA5CAA,EAAMC,aAAe,SAAWC,GAE/B,IAAIC,EAAU,IAAIH,EAAMI,aACxBD,EAAQE,OAAS,GACjB,IAAIC,EAAO,IAAIN,EAAMO,QAErBC,KAAKC,iBAAmB,SAAWC,GAElCP,EAAQO,OAASA,GAIlBF,KAAKG,QAAU,SAAWC,EAAOC,GAEhCX,EAASS,QAASC,EAAOC,IAI1BL,KAAKM,OAAS,SAAWC,EAAOC,GAE/BD,EAAME,oBAEiB,OAAlBD,EAAOE,QAAkBF,EAAOC,oBAErCd,EAAQgB,OAAQH,GAEhBd,EAASkB,QAASd,GAEbJ,EAASmB,WAAYnB,EAASoB,QACnCpB,EAASqB,gBAAgB,GAEzBrB,EAASsB,WAAY,EAAG,EAAGlB,EAAKM,MAAQ,EAAGN,EAAKO,QAChDX,EAASuB,YAAa,EAAG,EAAGnB,EAAKM,MAAQ,EAAGN,EAAKO,QACjDX,EAASY,OAAQC,EAAOZ,EAAQuB,SAEhCxB,EAASsB,WAAYlB,EAAKM,MAAQ,EAAG,EAAGN,EAAKM,MAAQ,EAAGN,EAAKO,QAC7DX,EAASuB,YAAanB,EAAKM,MAAQ,EAAG,EAAGN,EAAKM,MAAQ,EAAGN,EAAKO,QAC9DX,EAASY,OAAQC,EAAOZ,EAAQwB,SAEhCzB,EAASqB,gBAAgB,KAKpBvB,EAAMC","file":"../../effects/StereoEffect.js","sourcesContent":["define([\n\t\"skylark-threejs\"\n],function(THREE){\n\t/**\n\t * @author alteredq / http://alteredqualia.com/\n\t * @authod mrdoob / http://mrdoob.com/\n\t * @authod arodic / http://aleksandarrodic.com/\n\t * @authod fonserbc / http://fonserbc.github.io/\n\t*/\n\n\tTHREE.StereoEffect = function ( renderer ) {\n\n\t\tvar _stereo = new THREE.StereoCamera();\n\t\t_stereo.aspect = 0.5;\n\t\tvar size = new THREE.Vector2();\n\n\t\tthis.setEyeSeparation = function ( eyeSep ) {\n\n\t\t\t_stereo.eyeSep = eyeSep;\n\n\t\t};\n\n\t\tthis.setSize = function ( width, height ) {\n\n\t\t\trenderer.setSize( width, height );\n\n\t\t};\n\n\t\tthis.render = function ( scene, camera ) {\n\n\t\t\tscene.updateMatrixWorld();\n\n\t\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\n\n\t\t\t_stereo.update( camera );\n\n\t\t\trenderer.getSize( size );\n\n\t\t\tif ( renderer.autoClear ) renderer.clear();\n\t\t\trenderer.setScissorTest( true );\n\n\t\t\trenderer.setScissor( 0, 0, size.width / 2, size.height );\n\t\t\trenderer.setViewport( 0, 0, size.width / 2, size.height );\n\t\t\trenderer.render( scene, _stereo.cameraL );\n\n\t\t\trenderer.setScissor( size.width / 2, 0, size.width / 2, size.height );\n\t\t\trenderer.setViewport( size.width / 2, 0, size.width / 2, size.height );\n\t\t\trenderer.render( scene, _stereo.cameraR );\n\n\t\t\trenderer.setScissorTest( false );\n\n\t\t};\n\n\t};\n\treturn THREE.StereoEffect;\n});\n"]}