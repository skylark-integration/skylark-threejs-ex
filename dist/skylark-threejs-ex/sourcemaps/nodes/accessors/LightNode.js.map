{"version":3,"sources":["nodes/accessors/LightNode.js"],"names":["define","TempNode","LightNode","scope","call","this","shared","TOTAL","prototype","Object","create","constructor","nodeType","generate","builder","output","isCache","format","type","console","warn","copy","source","toJSON","meta","data","getJSONNode","createJSONNode"],"mappings":";;;;;;;AAAAA,QACI,oBACD,SAAUC,GACT,aACA,SAASC,EAAUC,GACfF,EAASG,KAAKC,KAAM,MAAQC,QAAQ,IACpCD,KAAKF,MAAQA,GAASD,EAAUK,MA2BpC,OAzBAL,EAAUK,MAAQ,QAClBL,EAAUM,UAAYC,OAAOC,OAAOT,EAASO,WAC7CN,EAAUM,UAAUG,YAAcT,EAClCA,EAAUM,UAAUI,SAAW,QAC/BV,EAAUM,UAAUK,SAAW,SAAUC,EAASC,GAC9C,OAAID,EAAQE,QAAQ,SACTF,EAAQG,OAAO,+BAAgCZ,KAAKa,KAAMH,IAEjEI,QAAQC,KAAK,0DACNN,EAAQG,OAAO,cAAeZ,KAAKa,KAAMH,KAGxDb,EAAUM,UAAUa,KAAO,SAAUC,GAGjC,OAFArB,EAASO,UAAUa,KAAKjB,KAAKC,KAAMiB,GACnCjB,KAAKF,MAAQmB,EAAOnB,MACbE,MAEXH,EAAUM,UAAUe,OAAS,SAAUC,GACnC,IAAIC,EAAOpB,KAAKqB,YAAYF,GAK5B,OAJKC,KACDA,EAAOpB,KAAKsB,eAAeH,IACtBrB,MAAQE,KAAKF,OAEfsB,GAEJvB","file":"../../../nodes/accessors/LightNode.js","sourcesContent":["define([\r\n    '../core/TempNode'\r\n], function (TempNode) {\r\n    'use strict';\r\n    function LightNode(scope) {\r\n        TempNode.call(this, 'v3', { shared: false });\r\n        this.scope = scope || LightNode.TOTAL;\r\n    }\r\n    LightNode.TOTAL = 'total';\r\n    LightNode.prototype = Object.create(TempNode.prototype);\r\n    LightNode.prototype.constructor = LightNode;\r\n    LightNode.prototype.nodeType = 'Light';\r\n    LightNode.prototype.generate = function (builder, output) {\r\n        if (builder.isCache('light')) {\r\n            return builder.format('reflectedLight.directDiffuse', this.type, output);\r\n        } else {\r\n            console.warn('THREE.LightNode is only compatible in \"light\" channel.');\r\n            return builder.format('vec3( 0.0 )', this.type, output);\r\n        }\r\n    };\r\n    LightNode.prototype.copy = function (source) {\r\n        TempNode.prototype.copy.call(this, source);\r\n        this.scope = source.scope;\r\n        return this;\r\n    };\r\n    LightNode.prototype.toJSON = function (meta) {\r\n        var data = this.getJSONNode(meta);\r\n        if (!data) {\r\n            data = this.createJSONNode(meta);\r\n            data.scope = this.scope;\r\n        }\r\n        return data;\r\n    };\r\n    return LightNode;\r\n});"]}