{"version":3,"sources":["nodes/inputs/ColorNode.js"],"names":["define","THREE","InputNode","NodeUtils","ColorNode","color","g","b","call","this","value","Color","prototype","Object","create","constructor","nodeType","addShortcuts","generateReadonly","builder","output","uuid","type","format","r","copy","source","toJSON","meta","data","getJSONNode","createJSONNode","readonly"],"mappings":";;;;;;;AAAAA,QACI,kBACA,oBACA,qBACD,SAAUC,EAAOC,EAAWC,GAC3B,aACA,SAASC,EAAUC,EAAOC,EAAGC,GACzBL,EAAUM,KAAKC,KAAM,KACrBA,KAAKC,MAAQL,aAAiBJ,EAAMU,MAAQN,EAAQ,IAAIJ,EAAMU,MAAMN,GAAS,EAAGC,EAAGC,GA8BvF,OA5BAH,EAAUQ,UAAYC,OAAOC,OAAOZ,EAAUU,WAC9CR,EAAUQ,UAAUG,YAAcX,EAClCA,EAAUQ,UAAUI,SAAW,QAC/Bb,EAAUc,aAAab,EAAUQ,UAAW,SACxC,IACA,IACA,MAEJR,EAAUQ,UAAUM,iBAAmB,SAAUC,EAASC,EAAQC,EAAMC,GACpE,OAAOH,EAAQI,OAAO,SAAWd,KAAKe,EAAI,KAAOf,KAAKH,EAAI,KAAOG,KAAKF,EAAI,KAAMe,EAAMF,IAE1FhB,EAAUQ,UAAUa,KAAO,SAAUC,GAGjC,OAFAxB,EAAUU,UAAUa,KAAKjB,KAAKC,KAAMiB,GACpCjB,KAAKC,MAAMe,KAAKC,GACTjB,MAEXL,EAAUQ,UAAUe,OAAS,SAAUC,GACnC,IAAIC,EAAOpB,KAAKqB,YAAYF,GAS5B,OARKC,KACDA,EAAOpB,KAAKsB,eAAeH,IACtBJ,EAAIf,KAAKe,EACdK,EAAKvB,EAAIG,KAAKH,EACduB,EAAKtB,EAAIE,KAAKF,GACQ,IAAlBE,KAAKuB,WACLH,EAAKG,UAAW,IAEjBH,GAEJzB","file":"../../../nodes/inputs/ColorNode.js","sourcesContent":["define([\n    \"skylark-threejs\",\n    '../core/InputNode',\n    '../core/NodeUtils'\n], function (THREE, InputNode, NodeUtils) {\n    'use strict';\n    function ColorNode(color, g, b) {\n        InputNode.call(this, 'c');\n        this.value = color instanceof THREE.Color ? color : new THREE.Color(color || 0, g, b);\n    }\n    ColorNode.prototype = Object.create(InputNode.prototype);\n    ColorNode.prototype.constructor = ColorNode;\n    ColorNode.prototype.nodeType = 'Color';\n    NodeUtils.addShortcuts(ColorNode.prototype, 'value', [\n        'r',\n        'g',\n        'b'\n    ]);\n    ColorNode.prototype.generateReadonly = function (builder, output, uuid, type) {\n        return builder.format('vec3( ' + this.r + ', ' + this.g + ', ' + this.b + ' )', type, output);\n    };\n    ColorNode.prototype.copy = function (source) {\n        InputNode.prototype.copy.call(this, source);\n        this.value.copy(source);\n        return this;\n    };\n    ColorNode.prototype.toJSON = function (meta) {\n        var data = this.getJSONNode(meta);\n        if (!data) {\n            data = this.createJSONNode(meta);\n            data.r = this.r;\n            data.g = this.g;\n            data.b = this.b;\n            if (this.readonly === true)\n                data.readonly = true;\n        }\n        return data;\n    };\n    return ColorNode;\n});"]}