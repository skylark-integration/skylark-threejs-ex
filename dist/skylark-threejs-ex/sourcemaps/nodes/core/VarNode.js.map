{"version":3,"sources":["nodes/core/VarNode.js"],"names":["define","Node","VarNode","type","value","call","this","prototype","Object","create","constructor","nodeType","getType","builder","getTypeByFormat","generate","output","varying","getVar","uuid","isShader","addNodeCode","name","build","format","copy","source","toJSON","meta","data","getJSONNode","createJSONNode"],"mappings":";;;;;;;AAAAA,QACI,UACD,SAAUC,GACT,aACA,SAASC,EAAQC,EAAMC,GACnBH,EAAKI,KAAKC,KAAMH,GAChBG,KAAKF,MAAQA,EA+BjB,OA7BAF,EAAQK,UAAYC,OAAOC,OAAOR,EAAKM,WACvCL,EAAQK,UAAUG,YAAcR,EAChCA,EAAQK,UAAUI,SAAW,MAC7BT,EAAQK,UAAUK,QAAU,SAAUC,GAClC,OAAOA,EAAQC,gBAAgBR,KAAKH,OAExCD,EAAQK,UAAUQ,SAAW,SAAUF,EAASG,GAC5C,IAAIC,EAAUJ,EAAQK,OAAOZ,KAAKa,KAAMb,KAAKH,MAI7C,OAHIG,KAAKF,OAASS,EAAQO,SAAS,WAC/BP,EAAQQ,YAAYJ,EAAQK,KAAO,MAAQhB,KAAKF,MAAMmB,MAAMV,EAASP,KAAKM,QAAQC,IAAY,KAE3FA,EAAQW,OAAOP,EAAQK,KAAMhB,KAAKM,QAAQC,GAAUG,IAE/Dd,EAAQK,UAAUkB,KAAO,SAAUC,GAI/B,OAHAzB,EAAKM,UAAUkB,KAAKpB,KAAKC,KAAMoB,GAC/BpB,KAAKH,KAAOuB,EAAOvB,KACnBG,KAAKF,MAAQsB,EAAOtB,MACbE,MAEXJ,EAAQK,UAAUoB,OAAS,SAAUC,GACjC,IAAIC,EAAOvB,KAAKwB,YAAYF,GAO5B,OANKC,KACDA,EAAOvB,KAAKyB,eAAeH,IACtBzB,KAAOG,KAAKH,KACbG,KAAKF,QACLyB,EAAKzB,MAAQE,KAAKF,MAAMuB,OAAOC,GAAMT,OAEtCU,GAEJ3B","file":"../../../nodes/core/VarNode.js","sourcesContent":["define([\n    './Node'\n], function (Node) {\n    'use strict';\n    function VarNode(type, value) {\n        Node.call(this, type);\n        this.value = value;\n    }\n    VarNode.prototype = Object.create(Node.prototype);\n    VarNode.prototype.constructor = VarNode;\n    VarNode.prototype.nodeType = 'Var';\n    VarNode.prototype.getType = function (builder) {\n        return builder.getTypeByFormat(this.type);\n    };\n    VarNode.prototype.generate = function (builder, output) {\n        var varying = builder.getVar(this.uuid, this.type);\n        if (this.value && builder.isShader('vertex')) {\n            builder.addNodeCode(varying.name + ' = ' + this.value.build(builder, this.getType(builder)) + ';');\n        }\n        return builder.format(varying.name, this.getType(builder), output);\n    };\n    VarNode.prototype.copy = function (source) {\n        Node.prototype.copy.call(this, source);\n        this.type = source.type;\n        this.value = source.value;\n        return this;\n    };\n    VarNode.prototype.toJSON = function (meta) {\n        var data = this.getJSONNode(meta);\n        if (!data) {\n            data = this.createJSONNode(meta);\n            data.type = this.type;\n            if (this.value)\n                data.value = this.value.toJSON(meta).uuid;\n        }\n        return data;\n    };\n    return VarNode ;\n});"]}