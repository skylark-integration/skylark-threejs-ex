{"version":3,"sources":["nodes/core/InputNode.js"],"names":["define","TempNode","InputNode","type","params","shared","undefined","call","this","readonly","prototype","Object","create","constructor","setReadonly","value","getReadonly","copy","source","createJSONNode","meta","data","generate","builder","output","uuid","ns","needsUpdate","getUuid","getType","getNodeData","generateReadonly","isShader","vertex","createVertexUniform","getLabel","format","name","fragment","createFragmentUniform"],"mappings":";;;;;;;AAAAA,QACI,cACD,SAAUC,GACT,aACA,SAASC,EAAUC,EAAMC,IACrBA,EAASA,OACFC,YAA2BC,IAAlBF,EAAOC,QAAuBD,EAAOC,OACrDJ,EAASM,KAAKC,KAAML,EAAMC,GAC1BI,KAAKC,UAAW,EA2CpB,OAzCAP,EAAUQ,UAAYC,OAAOC,OAAOX,EAASS,WAC7CR,EAAUQ,UAAUG,YAAcX,EAClCA,EAAUQ,UAAUI,YAAc,SAAUC,GAExC,OADAP,KAAKC,SAAWM,EACTP,MAEXN,EAAUQ,UAAUM,YAAc,WAC9B,OAAOR,KAAKC,UAEhBP,EAAUQ,UAAUO,KAAO,SAAUC,GAIjC,OAHAjB,EAASS,UAAUO,KAAKV,KAAKC,KAAMU,QACXZ,IAApBY,EAAOT,WACPD,KAAKC,SAAWS,EAAOT,UACpBD,MAEXN,EAAUQ,UAAUS,eAAiB,SAAUC,GAC3C,IAAIC,EAAOpB,EAASS,UAAUS,eAAeZ,KAAKC,KAAMY,GAGxD,OAFsB,IAAlBZ,KAAKC,WACLY,EAAKZ,SAAWD,KAAKC,UAClBY,GAEXnB,EAAUQ,UAAUY,SAAW,SAAUC,EAASC,EAAQC,EAAMtB,EAAMuB,EAAIC,GACtEF,EAAOF,EAAQK,QAAQH,GAAQjB,KAAKoB,WACpCzB,EAAOA,GAAQK,KAAKqB,QAAQN,GAC5B,IAAIF,EAAOE,EAAQO,YAAYL,GAC/B,OADiDjB,KAAKQ,YAAYO,SAAsCjB,IAA1BE,KAAKuB,iBAExEvB,KAAKuB,iBAAiBR,EAASC,EAAQC,EAAMtB,EAAMuB,EAAIC,GAE1DJ,EAAQS,SAAS,WACZX,EAAKY,SACNZ,EAAKY,OAASV,EAAQW,oBAAoB/B,EAAMK,KAAMkB,EAAIC,EAAanB,KAAK2B,aAEzEZ,EAAQa,OAAOf,EAAKY,OAAOI,KAAMlC,EAAMqB,KAEzCH,EAAKiB,WACNjB,EAAKiB,SAAWf,EAAQgB,sBAAsBpC,EAAMK,KAAMkB,EAAIC,EAAanB,KAAK2B,aAE7EZ,EAAQa,OAAOf,EAAKiB,SAASD,KAAMlC,EAAMqB,KAIrDtB","file":"../../../nodes/core/InputNode.js","sourcesContent":["define([\n    './TempNode'\n], function (TempNode) {\n    'use strict';\n    function InputNode(type, params) {\n        params = params || {};\n        params.shared = params.shared !== undefined ? params.shared : false;\n        TempNode.call(this, type, params);\n        this.readonly = false;\n    }\n    InputNode.prototype = Object.create(TempNode.prototype);\n    InputNode.prototype.constructor = InputNode;\n    InputNode.prototype.setReadonly = function (value) {\n        this.readonly = value;\n        return this;\n    };\n    InputNode.prototype.getReadonly = function () {\n        return this.readonly;\n    };\n    InputNode.prototype.copy = function (source) {\n        TempNode.prototype.copy.call(this, source);\n        if (source.readonly !== undefined)\n            this.readonly = source.readonly;\n        return this;\n    };\n    InputNode.prototype.createJSONNode = function (meta) {\n        var data = TempNode.prototype.createJSONNode.call(this, meta);\n        if (this.readonly === true)\n            data.readonly = this.readonly;\n        return data;\n    };\n    InputNode.prototype.generate = function (builder, output, uuid, type, ns, needsUpdate) {\n        uuid = builder.getUuid(uuid || this.getUuid());\n        type = type || this.getType(builder);\n        var data = builder.getNodeData(uuid), readonly = this.getReadonly(builder) && this.generateReadonly !== undefined;\n        if (readonly) {\n            return this.generateReadonly(builder, output, uuid, type, ns, needsUpdate);\n        } else {\n            if (builder.isShader('vertex')) {\n                if (!data.vertex) {\n                    data.vertex = builder.createVertexUniform(type, this, ns, needsUpdate, this.getLabel());\n                }\n                return builder.format(data.vertex.name, type, output);\n            } else {\n                if (!data.fragment) {\n                    data.fragment = builder.createFragmentUniform(type, this, ns, needsUpdate, this.getLabel());\n                }\n                return builder.format(data.fragment.name, type, output);\n            }\n        }\n    };\n    return InputNode;\n});"]}