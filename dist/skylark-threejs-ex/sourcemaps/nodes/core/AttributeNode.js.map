{"version":3,"sources":["nodes/core/AttributeNode.js"],"names":["define","Node","AttributeNode","name","type","call","this","prototype","Object","create","constructor","nodeType","getAttributeType","builder","getConstructorFromLength","getType","getTypeByFormat","generate","output","attribute","getAttribute","isShader","varying","format","copy","source","toJSON","meta","data","getJSONNode","createJSONNode"],"mappings":";;;;;;;AAAAA,QACI,UACD,SAAUC,GACT,aACA,SAASC,EAAcC,EAAMC,GACzBH,EAAKI,KAAKC,KAAMF,GAChBE,KAAKH,KAAOA,EA8BhB,OA5BAD,EAAcK,UAAYC,OAAOC,OAAOR,EAAKM,WAC7CL,EAAcK,UAAUG,YAAcR,EACtCA,EAAcK,UAAUI,SAAW,YACnCT,EAAcK,UAAUK,iBAAmB,SAAUC,GACjD,MAA4B,iBAAdP,KAAKF,KAAoBS,EAAQC,yBAAyBR,KAAKF,MAAQE,KAAKF,MAE9FF,EAAcK,UAAUQ,QAAU,SAAUF,GACxC,IAAIT,EAAOE,KAAKM,iBAAiBC,GACjC,OAAOA,EAAQG,gBAAgBZ,IAEnCF,EAAcK,UAAUU,SAAW,SAAUJ,EAASK,GAClD,IAAId,EAAOE,KAAKM,iBAAiBC,GAC7BM,EAAYN,EAAQO,aAAad,KAAKH,KAAMC,GAAOD,EAAOU,EAAQQ,SAAS,UAAYf,KAAKH,KAAOgB,EAAUG,QAAQnB,KACzH,OAAOU,EAAQU,OAAOpB,EAAMG,KAAKS,QAAQF,GAAUK,IAEvDhB,EAAcK,UAAUiB,KAAO,SAAUC,GAGrC,OAFAxB,EAAKM,UAAUiB,KAAKnB,KAAKC,KAAMmB,GAC/BnB,KAAKF,KAAOqB,EAAOrB,KACZE,MAEXJ,EAAcK,UAAUmB,OAAS,SAAUC,GACvC,IAAIC,EAAOtB,KAAKuB,YAAYF,GAK5B,OAJKC,KACDA,EAAOtB,KAAKwB,eAAeH,IACtBvB,KAAOE,KAAKF,MAEdwB,GAEJ1B","file":"../../../nodes/core/AttributeNode.js","sourcesContent":["define([\r\n    './Node'\r\n], function (Node) {\r\n    'use strict';\r\n    function AttributeNode(name, type) {\r\n        Node.call(this, type);\r\n        this.name = name;\r\n    }\r\n    AttributeNode.prototype = Object.create(Node.prototype);\r\n    AttributeNode.prototype.constructor = AttributeNode;\r\n    AttributeNode.prototype.nodeType = 'Attribute';\r\n    AttributeNode.prototype.getAttributeType = function (builder) {\r\n        return typeof this.type === 'number' ? builder.getConstructorFromLength(this.type) : this.type;\r\n    };\r\n    AttributeNode.prototype.getType = function (builder) {\r\n        var type = this.getAttributeType(builder);\r\n        return builder.getTypeByFormat(type);\r\n    };\r\n    AttributeNode.prototype.generate = function (builder, output) {\r\n        var type = this.getAttributeType(builder);\r\n        var attribute = builder.getAttribute(this.name, type), name = builder.isShader('vertex') ? this.name : attribute.varying.name;\r\n        return builder.format(name, this.getType(builder), output);\r\n    };\r\n    AttributeNode.prototype.copy = function (source) {\r\n        Node.prototype.copy.call(this, source);\r\n        this.type = source.type;\r\n        return this;\r\n    };\r\n    AttributeNode.prototype.toJSON = function (meta) {\r\n        var data = this.getJSONNode(meta);\r\n        if (!data) {\r\n            data = this.createJSONNode(meta);\r\n            data.type = this.type;\r\n        }\r\n        return data;\r\n    };\r\n    return AttributeNode;\r\n});"]}