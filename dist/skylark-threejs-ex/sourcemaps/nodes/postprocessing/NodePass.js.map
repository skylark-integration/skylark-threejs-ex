{"version":3,"sources":["nodes/postprocessing/NodePass.js"],"names":["define","THREE","ShaderPass","NodeMaterial","ScreenNode","NodePass","call","this","name","uuid","MathUtils","generateUUID","userData","textureID","input","material","needsUpdate","prototype","Object","create","constructor","render","dispose","fragment","value","uniforms","apply","arguments","copy","source","toJSON","meta","undefined","nodes","passes","data","type","JSON","stringify","pass"],"mappings":";;;;;;;AAAAA,QACI,kBACA,kCACA,4BACA,wBACD,SACCC,EACAC,EACAC,EACAC,GAEA,aACA,SAASC,IACLH,EAAWI,KAAKC,MAChBA,KAAKC,KAAO,GACZD,KAAKE,KAAOR,EAAMS,UAAUC,eAC5BJ,KAAKK,YACLL,KAAKM,UAAY,gBACjBN,KAAKO,MAAQ,IAAIV,EACjBG,KAAKQ,SAAW,IAAIZ,EACpBI,KAAKS,aAAc,EAsCvB,OApCAX,EAASY,UAAYC,OAAOC,OAAOjB,EAAWe,WAC9CZ,EAASY,UAAUG,YAAcf,EACjCA,EAASY,UAAUI,OAAS,WACpBd,KAAKS,cACLT,KAAKQ,SAASO,UACdf,KAAKQ,SAASQ,SAASC,MAAQjB,KAAKO,MACpCP,KAAKS,aAAc,GAEvBT,KAAKkB,SAAWlB,KAAKQ,SAASU,SAC9BvB,EAAWe,UAAUI,OAAOK,MAAMnB,KAAMoB,YAE5CtB,EAASY,UAAUW,KAAO,SAAUC,GAEhC,OADAtB,KAAKO,MAAQe,EAAOf,MACbP,MAEXF,EAASY,UAAUa,OAAS,SAAUC,GAOlC,SAN4BC,IAATD,GAAsC,iBAATA,KAE5CA,GAASE,WAETF,IAASA,EAAKG,SACdH,EAAKG,YACJH,EAAKG,OAAO3B,KAAKE,MAAO,CACzB,IAAI0B,KACJA,EAAK1B,KAAOF,KAAKE,KACjB0B,EAAKC,KAAO,WACZL,EAAKG,OAAO3B,KAAKE,MAAQ0B,EACP,KAAd5B,KAAKC,OACL2B,EAAK3B,KAAOD,KAAKC,MACiB,OAAlC6B,KAAKC,UAAU/B,KAAKK,YACpBuB,EAAKvB,SAAWL,KAAKK,UACzBuB,EAAKrB,MAAQP,KAAKO,MAAMgB,OAAOC,GAAMtB,KAGzC,OADAsB,EAAKQ,KAAOhC,KAAKE,KACVsB,GAEJ1B","file":"../../../nodes/postprocessing/NodePass.js","sourcesContent":["define([\n    \"skylark-threejs\",\n    '../../postprocessing/ShaderPass',\n    '../materials/NodeMaterial',\n    '../inputs/ScreenNode'\n], function (\n    THREE, \n    ShaderPass, \n    NodeMaterial, \n    ScreenNode\n) {\n    'use strict';\n    function NodePass() {\n        ShaderPass.call(this);\n        this.name = '';\n        this.uuid = THREE.MathUtils.generateUUID();\n        this.userData = {};\n        this.textureID = 'renderTexture';\n        this.input = new ScreenNode();\n        this.material = new NodeMaterial();\n        this.needsUpdate = true;\n    }\n    NodePass.prototype = Object.create(ShaderPass.prototype);\n    NodePass.prototype.constructor = NodePass;\n    NodePass.prototype.render = function () {\n        if (this.needsUpdate) {\n            this.material.dispose();\n            this.material.fragment.value = this.input;\n            this.needsUpdate = false;\n        }\n        this.uniforms = this.material.uniforms;\n        ShaderPass.prototype.render.apply(this, arguments);\n    };\n    NodePass.prototype.copy = function (source) {\n        this.input = source.input;\n        return this;\n    };\n    NodePass.prototype.toJSON = function (meta) {\n        var isRootObject = meta === undefined || typeof meta === 'string';\n        if (isRootObject) {\n            meta = { nodes: {} };\n        }\n        if (meta && !meta.passes)\n            meta.passes = {};\n        if (!meta.passes[this.uuid]) {\n            var data = {};\n            data.uuid = this.uuid;\n            data.type = 'NodePass';\n            meta.passes[this.uuid] = data;\n            if (this.name !== '')\n                data.name = this.name;\n            if (JSON.stringify(this.userData) !== '{}')\n                data.userData = this.userData;\n            data.input = this.input.toJSON(meta).uuid;\n        }\n        meta.pass = this.uuid;\n        return meta;\n    };\n    return NodePass;\n});"]}