{"version":3,"sources":["shaders/BrightnessContrastShader.js"],"names":["define","THREE","BrightnessContrastShader","uniforms","tDiffuse","value","brightness","contrast","vertexShader","join","fragmentShader"],"mappings":";;;;;;;AAAAA,QACC,mBACC,SAASC,GA4DV,OAlDAA,EAAMC,0BAELC,UAECC,UAAcC,MAAO,MACrBC,YAAgBD,MAAO,GACvBE,UAAcF,MAAO,IAItBG,cAEC,oBAEA,gBAEA,cAEA,8EAEA,KAECC,KAAM,MAERC,gBAEC,8BACA,4BACA,0BAEA,oBAEA,gBAEA,+CAEA,oCAEA,0BACA,4EACA,aACA,4EACA,MAEA,KAECD,KAAM,OAIFR,EAAMC","file":"../../shaders/BrightnessContrastShader.js","sourcesContent":["define([\n\t\"skylark-threejs\"\n],function(THREE){\n\t/**\n\t * @author tapio / http://tapio.github.com/\n\t *\n\t * Brightness and contrast adjustment\n\t * https://github.com/evanw/glfx.js\n\t * brightness: -1 to 1 (-1 is solid black, 0 is no change, and 1 is solid white)\n\t * contrast: -1 to 1 (-1 is solid gray, 0 is no change, and 1 is maximum contrast)\n\t */\n\n\tTHREE.BrightnessContrastShader = {\n\n\t\tuniforms: {\n\n\t\t\t\"tDiffuse\": { value: null },\n\t\t\t\"brightness\": { value: 0 },\n\t\t\t\"contrast\": { value: 0 }\n\n\t\t},\n\n\t\tvertexShader: [\n\n\t\t\t\"varying vec2 vUv;\",\n\n\t\t\t\"void main() {\",\n\n\t\t\t\"\tvUv = uv;\",\n\n\t\t\t\"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n\n\t\t\t\"}\"\n\n\t\t].join( \"\\n\" ),\n\n\t\tfragmentShader: [\n\n\t\t\t\"uniform sampler2D tDiffuse;\",\n\t\t\t\"uniform float brightness;\",\n\t\t\t\"uniform float contrast;\",\n\n\t\t\t\"varying vec2 vUv;\",\n\n\t\t\t\"void main() {\",\n\n\t\t\t\"\tgl_FragColor = texture2D( tDiffuse, vUv );\",\n\n\t\t\t\"\tgl_FragColor.rgb += brightness;\",\n\n\t\t\t\"\tif (contrast > 0.0) {\",\n\t\t\t\"\t\tgl_FragColor.rgb = (gl_FragColor.rgb - 0.5) / (1.0 - contrast) + 0.5;\",\n\t\t\t\"\t} else {\",\n\t\t\t\"\t\tgl_FragColor.rgb = (gl_FragColor.rgb - 0.5) * (1.0 + contrast) + 0.5;\",\n\t\t\t\"\t}\",\n\n\t\t\t\"}\"\n\n\t\t].join( \"\\n\" )\n\n\t};\n\t\n\treturn THREE.BrightnessContrastShader;\n});\n"]}