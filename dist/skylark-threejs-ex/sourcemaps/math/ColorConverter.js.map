{"version":3,"sources":["math/ColorConverter.js"],"names":["define","THREE","hsl","setHSV","color","h","s","v","MathUtils","euclideanModulo","clamp","setHSL","getHSV","target","undefined","console","warn","l","getHSL","setCMYK","c","m","y","k","r","g","b","setRGB","getCMYK","Math","max"],"mappings":";;;;;;;AAAAA,QACI,mBACD,SAAUC,GACT,aACA,IAQYC,EAgDZ,OAvDIC,OAAQ,SAAUC,EAAOC,EAAGC,EAAGC,GAI3B,OAHAF,EAAIJ,EAAMO,UAAUC,gBAAgBJ,EAAG,GACvCC,EAAIL,EAAMO,UAAUE,MAAMJ,EAAG,EAAG,GAChCC,EAAIN,EAAMO,UAAUE,MAAMH,EAAG,EAAG,GACzBH,EAAMO,OAAON,EAAGC,EAAIC,IAAMF,GAAK,EAAIC,GAAKC,GAAK,EAAIF,EAAI,EAAIA,GAAQ,GAAJA,IAExEO,QACQV,KACG,SAAgBE,EAAOS,GAc1B,YAbeC,IAAXD,IACAE,QAAQC,KAAK,0DACbH,GACIR,EAAG,EACHC,EAAG,EACHW,EAAG,IAGXb,EAAMc,OAAOhB,GACbA,EAAII,GAAKJ,EAAIe,EAAI,GAAMf,EAAIe,EAAI,EAAIf,EAAIe,EACvCJ,EAAOR,EAAIH,EAAIG,EACfQ,EAAOP,EAAI,EAAIJ,EAAII,GAAKJ,EAAIe,EAAIf,EAAII,GACpCO,EAAON,EAAIL,EAAIe,EAAIf,EAAII,EAChBO,IAGfM,QAAS,SAAUf,EAAOgB,EAAGC,EAAGC,EAAGC,GAC/B,IAAIC,GAAK,EAAIJ,IAAM,EAAIG,GACnBE,GAAK,EAAIJ,IAAM,EAAIE,GACnBG,GAAK,EAAIJ,IAAM,EAAIC,GACvB,OAAOnB,EAAMuB,OAAOH,EAAGC,EAAGC,IAE9BE,QAAS,SAAUxB,EAAOS,QACPC,IAAXD,IACAE,QAAQC,KAAK,2DACbH,GACIO,EAAG,EACHC,EAAG,EACHC,EAAG,EACHC,EAAG,IAGX,IAAIC,EAAIpB,EAAMoB,EACVC,EAAIrB,EAAMqB,EACVC,EAAItB,EAAMsB,EACVH,EAAI,EAAIM,KAAKC,IAAIN,EAAGC,EAAGC,GACvBN,GAAK,EAAII,EAAID,IAAM,EAAIA,GACvBF,GAAK,EAAII,EAAIF,IAAM,EAAIA,GACvBD,GAAK,EAAII,EAAIH,IAAM,EAAIA,GAK3B,OAJAV,EAAOO,EAAIA,EACXP,EAAOQ,EAAIA,EACXR,EAAOS,EAAIA,EACXT,EAAOU,EAAIA,EACJV","file":"../../math/ColorConverter.js","sourcesContent":["define([\n    \"skylark-threejs\"\n], function (THREE) {\n    'use strict';\n    var ColorConverter = {\n        setHSV: function (color, h, s, v) {\n            h = THREE.MathUtils.euclideanModulo(h, 1);\n            s = THREE.MathUtils.clamp(s, 0, 1);\n            v = THREE.MathUtils.clamp(v, 0, 1);\n            return color.setHSL(h, s * v / ((h = (2 - s) * v) < 1 ? h : 2 - h), h * 0.5);\n        },\n        getHSV: function () {\n            var hsl = {};\n            return function getHSV(color, target) {\n                if (target === undefined) {\n                    console.warn('THREE.ColorConverter: .getHSV() target is now required');\n                    target = {\n                        h: 0,\n                        s: 0,\n                        l: 0\n                    };\n                }\n                color.getHSL(hsl);\n                hsl.s *= hsl.l < 0.5 ? hsl.l : 1 - hsl.l;\n                target.h = hsl.h;\n                target.s = 2 * hsl.s / (hsl.l + hsl.s);\n                target.v = hsl.l + hsl.s;\n                return target;\n            };\n        }(),\n        setCMYK: function (color, c, m, y, k) {\n            var r = (1 - c) * (1 - k);\n            var g = (1 - m) * (1 - k);\n            var b = (1 - y) * (1 - k);\n            return color.setRGB(r, g, b);\n        },\n        getCMYK: function (color, target) {\n            if (target === undefined) {\n                console.warn('THREE.ColorConverter: .getCMYK() target is now required');\n                target = {\n                    c: 0,\n                    m: 0,\n                    y: 0,\n                    k: 0\n                };\n            }\n            var r = color.r;\n            var g = color.g;\n            var b = color.b;\n            var k = 1 - Math.max(r, g, b);\n            var c = (1 - r - k) / (1 - k);\n            var m = (1 - g - k) / (1 - k);\n            var y = (1 - b - k) / (1 - k);\n            target.c = c;\n            target.m = m;\n            target.y = y;\n            target.k = k;\n            return target;\n        }\n    };\n    return ColorConverter;\n});"]}