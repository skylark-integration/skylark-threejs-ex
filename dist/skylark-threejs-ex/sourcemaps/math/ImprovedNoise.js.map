{"version":3,"sources":["math/ImprovedNoise.js"],"names":["define","THREE","threex","math","ImprovedNoise","p","i","fade","t","lerp","a","b","grad","hash","x","y","z","h","u","v","noise","floorX","Math","floor","floorY","floorZ","X","Y","Z","xMinus1","yMinus1","zMinus1","w","A","AA","AB","B","BA","BB"],"mappings":";;;;;;;AAAAA,QACI,kBACA,aACD,SACCC,EACAC,GAEA,aAgSA,OAAOA,EAAOC,KAAKC,cA/RC,WAmQhB,IAlQA,IAAIC,GACA,IACA,IACA,IACA,GACA,GACA,GACA,IACA,GACA,IACA,GACA,GACA,GACA,IACA,IACA,EACA,IACA,IACA,GACA,IACA,GACA,GACA,IACA,EACA,GACA,GACA,IACA,GACA,GACA,GACA,IACA,EACA,IACA,IACA,IACA,IACA,GACA,EACA,GACA,IACA,GACA,GACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,IACA,GACA,GACA,IACA,IACA,GACA,GACA,IACA,GACA,IACA,IACA,IACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,IACA,GACA,GACA,IACA,GACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,IACA,GACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,IACA,EACA,IACA,GACA,GACA,IACA,GACA,IACA,IACA,IACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,EACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,EACA,IACA,GACA,IACA,IACA,IACA,IACA,GACA,GACA,IACA,IACA,IACA,GACA,IACA,GACA,GACA,GACA,GACA,IACA,IACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,EACA,GACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,EACA,IACA,GACA,GACA,IACA,GACA,GACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,GACA,GACA,IACA,IACA,IACA,GACA,IACA,IACA,GACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,GACA,GACA,IACA,EACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,GACA,GACA,IACA,GACA,IACA,KAEKC,EAAI,EAAGA,EAAI,IAAKA,IACrBD,EAAE,IAAMC,GAAKD,EAAEC,GAEnB,SAASC,EAAKC,GACV,OAAOA,EAAIA,EAAIA,GAAKA,GAAS,EAAJA,EAAQ,IAAM,IAE3C,SAASC,EAAKD,EAAGE,EAAGC,GAChB,OAAOD,EAAIF,GAAKG,EAAID,GAExB,SAASE,EAAKC,EAAMC,EAAGC,EAAGC,GACtB,IAAIC,EAAW,GAAPJ,EACJK,EAAID,EAAI,EAAIH,EAAIC,EAAGI,EAAIF,EAAI,EAAIF,EAAS,IAALE,GAAgB,IAALA,EAAUH,EAAIE,EAChE,OAAmB,IAAN,EAAJC,GAAcC,GAAKA,IAAiB,IAAN,EAAJD,GAAcE,GAAKA,GAE1D,OACIC,MAAO,SAAUN,EAAGC,EAAGC,GACnB,IAAIK,EAASC,KAAKC,MAAMT,GAAIU,EAASF,KAAKC,MAAMR,GAAIU,EAASH,KAAKC,MAAMP,GACpEU,EAAa,IAATL,EAAcM,EAAa,IAATH,EAAcI,EAAa,IAATH,EAIxCI,GAHJf,GAAKO,GAGa,EAAGS,GAFrBf,GAAKS,GAE8B,EAAGO,GADtCf,GAAKS,GAC+C,EAChDP,EAAIX,EAAKO,GAAIK,EAAIZ,EAAKQ,GAAIiB,EAAIzB,EAAKS,GACnCiB,EAAI5B,EAAEqB,GAAKC,EAAGO,EAAK7B,EAAE4B,GAAKL,EAAGO,EAAK9B,EAAE4B,EAAI,GAAKL,EAAGQ,EAAI/B,EAAEqB,EAAI,GAAKC,EAAGU,EAAKhC,EAAE+B,GAAKR,EAAGU,EAAKjC,EAAE+B,EAAI,GAAKR,EACrG,OAAOnB,EAAKuB,EAAGvB,EAAKU,EAAGV,EAAKS,EAAGN,EAAKP,EAAE6B,GAAKpB,EAAGC,EAAGC,GAAIJ,EAAKP,EAAEgC,GAAKR,EAASd,EAAGC,IAAKP,EAAKS,EAAGN,EAAKP,EAAE8B,GAAKrB,EAAGgB,EAASd,GAAIJ,EAAKP,EAAEiC,GAAKT,EAASC,EAASd,KAAMP,EAAKU,EAAGV,EAAKS,EAAGN,EAAKP,EAAE6B,EAAK,GAAIpB,EAAGC,EAAGgB,GAAUnB,EAAKP,EAAEgC,EAAK,GAAIR,EAASd,EAAGC,EAAI,IAAKP,EAAKS,EAAGN,EAAKP,EAAE8B,EAAK,GAAIrB,EAAGgB,EAASC,GAAUnB,EAAKP,EAAEiC,EAAK,GAAIT,EAASC,EAASC","file":"../../math/ImprovedNoise.js","sourcesContent":["define([\r\n    \"skylark-threejs\",\r\n    \"../threex\"\r\n], function (\r\n    THREE,\r\n    threex\r\n) {\r\n    'use strict';\r\n    var ImprovedNoise = function () {\r\n        var p = [\r\n            151,\r\n            160,\r\n            137,\r\n            91,\r\n            90,\r\n            15,\r\n            131,\r\n            13,\r\n            201,\r\n            95,\r\n            96,\r\n            53,\r\n            194,\r\n            233,\r\n            7,\r\n            225,\r\n            140,\r\n            36,\r\n            103,\r\n            30,\r\n            69,\r\n            142,\r\n            8,\r\n            99,\r\n            37,\r\n            240,\r\n            21,\r\n            10,\r\n            23,\r\n            190,\r\n            6,\r\n            148,\r\n            247,\r\n            120,\r\n            234,\r\n            75,\r\n            0,\r\n            26,\r\n            197,\r\n            62,\r\n            94,\r\n            252,\r\n            219,\r\n            203,\r\n            117,\r\n            35,\r\n            11,\r\n            32,\r\n            57,\r\n            177,\r\n            33,\r\n            88,\r\n            237,\r\n            149,\r\n            56,\r\n            87,\r\n            174,\r\n            20,\r\n            125,\r\n            136,\r\n            171,\r\n            168,\r\n            68,\r\n            175,\r\n            74,\r\n            165,\r\n            71,\r\n            134,\r\n            139,\r\n            48,\r\n            27,\r\n            166,\r\n            77,\r\n            146,\r\n            158,\r\n            231,\r\n            83,\r\n            111,\r\n            229,\r\n            122,\r\n            60,\r\n            211,\r\n            133,\r\n            230,\r\n            220,\r\n            105,\r\n            92,\r\n            41,\r\n            55,\r\n            46,\r\n            245,\r\n            40,\r\n            244,\r\n            102,\r\n            143,\r\n            54,\r\n            65,\r\n            25,\r\n            63,\r\n            161,\r\n            1,\r\n            216,\r\n            80,\r\n            73,\r\n            209,\r\n            76,\r\n            132,\r\n            187,\r\n            208,\r\n            89,\r\n            18,\r\n            169,\r\n            200,\r\n            196,\r\n            135,\r\n            130,\r\n            116,\r\n            188,\r\n            159,\r\n            86,\r\n            164,\r\n            100,\r\n            109,\r\n            198,\r\n            173,\r\n            186,\r\n            3,\r\n            64,\r\n            52,\r\n            217,\r\n            226,\r\n            250,\r\n            124,\r\n            123,\r\n            5,\r\n            202,\r\n            38,\r\n            147,\r\n            118,\r\n            126,\r\n            255,\r\n            82,\r\n            85,\r\n            212,\r\n            207,\r\n            206,\r\n            59,\r\n            227,\r\n            47,\r\n            16,\r\n            58,\r\n            17,\r\n            182,\r\n            189,\r\n            28,\r\n            42,\r\n            223,\r\n            183,\r\n            170,\r\n            213,\r\n            119,\r\n            248,\r\n            152,\r\n            2,\r\n            44,\r\n            154,\r\n            163,\r\n            70,\r\n            221,\r\n            153,\r\n            101,\r\n            155,\r\n            167,\r\n            43,\r\n            172,\r\n            9,\r\n            129,\r\n            22,\r\n            39,\r\n            253,\r\n            19,\r\n            98,\r\n            108,\r\n            110,\r\n            79,\r\n            113,\r\n            224,\r\n            232,\r\n            178,\r\n            185,\r\n            112,\r\n            104,\r\n            218,\r\n            246,\r\n            97,\r\n            228,\r\n            251,\r\n            34,\r\n            242,\r\n            193,\r\n            238,\r\n            210,\r\n            144,\r\n            12,\r\n            191,\r\n            179,\r\n            162,\r\n            241,\r\n            81,\r\n            51,\r\n            145,\r\n            235,\r\n            249,\r\n            14,\r\n            239,\r\n            107,\r\n            49,\r\n            192,\r\n            214,\r\n            31,\r\n            181,\r\n            199,\r\n            106,\r\n            157,\r\n            184,\r\n            84,\r\n            204,\r\n            176,\r\n            115,\r\n            121,\r\n            50,\r\n            45,\r\n            127,\r\n            4,\r\n            150,\r\n            254,\r\n            138,\r\n            236,\r\n            205,\r\n            93,\r\n            222,\r\n            114,\r\n            67,\r\n            29,\r\n            24,\r\n            72,\r\n            243,\r\n            141,\r\n            128,\r\n            195,\r\n            78,\r\n            66,\r\n            215,\r\n            61,\r\n            156,\r\n            180\r\n        ];\r\n        for (var i = 0; i < 256; i++) {\r\n            p[256 + i] = p[i];\r\n        }\r\n        function fade(t) {\r\n            return t * t * t * (t * (t * 6 - 15) + 10);\r\n        }\r\n        function lerp(t, a, b) {\r\n            return a + t * (b - a);\r\n        }\r\n        function grad(hash, x, y, z) {\r\n            var h = hash & 15;\r\n            var u = h < 8 ? x : y, v = h < 4 ? y : h == 12 || h == 14 ? x : z;\r\n            return ((h & 1) == 0 ? u : -u) + ((h & 2) == 0 ? v : -v);\r\n        }\r\n        return {\r\n            noise: function (x, y, z) {\r\n                var floorX = Math.floor(x), floorY = Math.floor(y), floorZ = Math.floor(z);\r\n                var X = floorX & 255, Y = floorY & 255, Z = floorZ & 255;\r\n                x -= floorX;\r\n                y -= floorY;\r\n                z -= floorZ;\r\n                var xMinus1 = x - 1, yMinus1 = y - 1, zMinus1 = z - 1;\r\n                var u = fade(x), v = fade(y), w = fade(z);\r\n                var A = p[X] + Y, AA = p[A] + Z, AB = p[A + 1] + Z, B = p[X + 1] + Y, BA = p[B] + Z, BB = p[B + 1] + Z;\r\n                return lerp(w, lerp(v, lerp(u, grad(p[AA], x, y, z), grad(p[BA], xMinus1, y, z)), lerp(u, grad(p[AB], x, yMinus1, z), grad(p[BB], xMinus1, yMinus1, z))), lerp(v, lerp(u, grad(p[AA + 1], x, y, zMinus1), grad(p[BA + 1], xMinus1, y, z - 1)), lerp(u, grad(p[AB + 1], x, yMinus1, zMinus1), grad(p[BB + 1], xMinus1, yMinus1, zMinus1))));\r\n            }\r\n        };\r\n    };\r\n    return threex.math.ImprovedNoise = ImprovedNoise;\r\n});"]}