{"version":3,"sources":["interactive/SelectionHelper.js"],"names":["define","THREE","threex","SelectionHelper","selectionBox","renderer","cssClassName","this","element","document","createElement","classList","add","style","pointerEvents","startPoint","Vector2","pointTopLeft","pointBottomRight","isDown","domElement","addEventListener","event","onSelectStart","bind","onSelectMove","onSelectOver","prototype","parentElement","appendChild","left","clientX","top","clientY","width","height","x","y","Math","max","min","removeChild","interactive"],"mappings":";;;;;;;AAAAA,QACI,kBACA,aACD,SACCC,EACAC,GAEA,aACA,IAAIC,EAAkB,WAClB,SAASA,EAAgBC,EAAcC,EAAUC,GAC7CC,KAAKC,QAAUC,SAASC,cAAc,OACtCH,KAAKC,QAAQG,UAAUC,IAAIN,GAC3BC,KAAKC,QAAQK,MAAMC,cAAgB,OACnCP,KAAKF,SAAWA,EAChBE,KAAKQ,WAAa,IAAId,EAAMe,QAC5BT,KAAKU,aAAe,IAAIhB,EAAMe,QAC9BT,KAAKW,iBAAmB,IAAIjB,EAAMe,QAClCT,KAAKY,QAAS,EACdZ,KAAKF,SAASe,WAAWC,iBAAiB,YAAa,SAAUC,GAC7Df,KAAKY,QAAS,EACdZ,KAAKgB,cAAcD,IACrBE,KAAKjB,OAAO,GACdA,KAAKF,SAASe,WAAWC,iBAAiB,YAAa,SAAUC,GACzDf,KAAKY,QACLZ,KAAKkB,aAAaH,IAExBE,KAAKjB,OAAO,GACdA,KAAKF,SAASe,WAAWC,iBAAiB,UAAW,SAAUC,GAC3Df,KAAKY,QAAS,EACdZ,KAAKmB,aAAaJ,IACpBE,KAAKjB,OAAO,GAwBlB,OAtBAJ,EAAgBwB,UAAUJ,cAAgB,SAAUD,GAChDf,KAAKF,SAASe,WAAWQ,cAAcC,YAAYtB,KAAKC,SACxDD,KAAKC,QAAQK,MAAMiB,KAAOR,EAAMS,QAAU,KAC1CxB,KAAKC,QAAQK,MAAMmB,IAAMV,EAAMW,QAAU,KACzC1B,KAAKC,QAAQK,MAAMqB,MAAQ,MAC3B3B,KAAKC,QAAQK,MAAMsB,OAAS,MAC5B5B,KAAKQ,WAAWqB,EAAId,EAAMS,QAC1BxB,KAAKQ,WAAWsB,EAAIf,EAAMW,SAE9B9B,EAAgBwB,UAAUF,aAAe,SAAUH,GAC/Cf,KAAKW,iBAAiBkB,EAAIE,KAAKC,IAAIhC,KAAKQ,WAAWqB,EAAGd,EAAMS,SAC5DxB,KAAKW,iBAAiBmB,EAAIC,KAAKC,IAAIhC,KAAKQ,WAAWsB,EAAGf,EAAMW,SAC5D1B,KAAKU,aAAamB,EAAIE,KAAKE,IAAIjC,KAAKQ,WAAWqB,EAAGd,EAAMS,SACxDxB,KAAKU,aAAaoB,EAAIC,KAAKE,IAAIjC,KAAKQ,WAAWsB,EAAGf,EAAMW,SACxD1B,KAAKC,QAAQK,MAAMiB,KAAOvB,KAAKU,aAAamB,EAAI,KAChD7B,KAAKC,QAAQK,MAAMmB,IAAMzB,KAAKU,aAAaoB,EAAI,KAC/C9B,KAAKC,QAAQK,MAAMqB,MAAQ3B,KAAKW,iBAAiBkB,EAAI7B,KAAKU,aAAamB,EAAI,KAC3E7B,KAAKC,QAAQK,MAAMsB,OAAS5B,KAAKW,iBAAiBmB,EAAI9B,KAAKU,aAAaoB,EAAI,MAEhFlC,EAAgBwB,UAAUD,aAAe,WACrCnB,KAAKC,QAAQoB,cAAca,YAAYlC,KAAKC,UAEzCL,EA9CW,GAiDtB,OAAOD,EAAOwC,YAAYvC,gBAAkBA","file":"../../interactive/SelectionHelper.js","sourcesContent":["define([\r\n    \"skylark-threejs\",\r\n    \"../threex\"\r\n], function (\r\n    THREE,\r\n    threex\r\n) {\r\n    'use strict';\r\n    var SelectionHelper = function () {\r\n        function SelectionHelper(selectionBox, renderer, cssClassName) {\r\n            this.element = document.createElement('div');\r\n            this.element.classList.add(cssClassName);\r\n            this.element.style.pointerEvents = 'none';\r\n            this.renderer = renderer;\r\n            this.startPoint = new THREE.Vector2();\r\n            this.pointTopLeft = new THREE.Vector2();\r\n            this.pointBottomRight = new THREE.Vector2();\r\n            this.isDown = false;\r\n            this.renderer.domElement.addEventListener('mousedown', function (event) {\r\n                this.isDown = true;\r\n                this.onSelectStart(event);\r\n            }.bind(this), false);\r\n            this.renderer.domElement.addEventListener('mousemove', function (event) {\r\n                if (this.isDown) {\r\n                    this.onSelectMove(event);\r\n                }\r\n            }.bind(this), false);\r\n            this.renderer.domElement.addEventListener('mouseup', function (event) {\r\n                this.isDown = false;\r\n                this.onSelectOver(event);\r\n            }.bind(this), false);\r\n        }\r\n        SelectionHelper.prototype.onSelectStart = function (event) {\r\n            this.renderer.domElement.parentElement.appendChild(this.element);\r\n            this.element.style.left = event.clientX + 'px';\r\n            this.element.style.top = event.clientY + 'px';\r\n            this.element.style.width = '0px';\r\n            this.element.style.height = '0px';\r\n            this.startPoint.x = event.clientX;\r\n            this.startPoint.y = event.clientY;\r\n        };\r\n        SelectionHelper.prototype.onSelectMove = function (event) {\r\n            this.pointBottomRight.x = Math.max(this.startPoint.x, event.clientX);\r\n            this.pointBottomRight.y = Math.max(this.startPoint.y, event.clientY);\r\n            this.pointTopLeft.x = Math.min(this.startPoint.x, event.clientX);\r\n            this.pointTopLeft.y = Math.min(this.startPoint.y, event.clientY);\r\n            this.element.style.left = this.pointTopLeft.x + 'px';\r\n            this.element.style.top = this.pointTopLeft.y + 'px';\r\n            this.element.style.width = this.pointBottomRight.x - this.pointTopLeft.x + 'px';\r\n            this.element.style.height = this.pointBottomRight.y - this.pointTopLeft.y + 'px';\r\n        };\r\n        SelectionHelper.prototype.onSelectOver = function () {\r\n            this.element.parentElement.removeChild(this.element);\r\n        };\r\n        return SelectionHelper;\r\n    }();\r\n\r\n    return threex.interactive.SelectionHelper = SelectionHelper;\r\n});"]}