{"version":3,"sources":["interactive/SelectionHelper.js"],"names":["define","THREE","SelectionHelper","selectionBox","renderer","cssClassName","this","element","document","createElement","classList","add","style","pointerEvents","startPoint","Vector2","pointTopLeft","pointBottomRight","isDown","domElement","addEventListener","event","onSelectStart","bind","onSelectMove","onSelectOver","prototype","parentElement","appendChild","left","clientX","top","clientY","width","height","x","y","Math","max","min","removeChild"],"mappings":";;;;;;;AAAAA,QACC,mBACC,SAASC,GAqFV,OAhFAA,EAAMC,gBAAkB,WAEvB,SAASA,EAAiBC,EAAcC,EAAUC,GAEjDC,KAAKC,QAAUC,SAASC,cAAe,OACvCH,KAAKC,QAAQG,UAAUC,IAAKN,GAC5BC,KAAKC,QAAQK,MAAMC,cAAgB,OAEnCP,KAAKF,SAAWA,EAEhBE,KAAKQ,WAAa,IAAIb,EAAMc,QAC5BT,KAAKU,aAAe,IAAIf,EAAMc,QAC9BT,KAAKW,iBAAmB,IAAIhB,EAAMc,QAElCT,KAAKY,QAAS,EAEdZ,KAAKF,SAASe,WAAWC,iBAAkB,YAAa,SAAWC,GAElEf,KAAKY,QAAS,EACdZ,KAAKgB,cAAeD,IAEnBE,KAAMjB,OAAQ,GAEhBA,KAAKF,SAASe,WAAWC,iBAAkB,YAAa,SAAWC,GAE7Df,KAAKY,QAETZ,KAAKkB,aAAcH,IAInBE,KAAMjB,OAAQ,GAEhBA,KAAKF,SAASe,WAAWC,iBAAkB,UAAW,SAAWC,GAEhEf,KAAKY,QAAS,EACdZ,KAAKmB,aAAcJ,IAElBE,KAAMjB,OAAQ,GAsCjB,OAlCAJ,EAAgBwB,UAAUJ,cAAgB,SAAWD,GAEpDf,KAAKF,SAASe,WAAWQ,cAAcC,YAAatB,KAAKC,SAEzDD,KAAKC,QAAQK,MAAMiB,KAAOR,EAAMS,QAAU,KAC1CxB,KAAKC,QAAQK,MAAMmB,IAAMV,EAAMW,QAAU,KACzC1B,KAAKC,QAAQK,MAAMqB,MAAQ,MAC3B3B,KAAKC,QAAQK,MAAMsB,OAAS,MAE5B5B,KAAKQ,WAAWqB,EAAId,EAAMS,QAC1BxB,KAAKQ,WAAWsB,EAAIf,EAAMW,SAI3B9B,EAAgBwB,UAAUF,aAAe,SAAWH,GAEnDf,KAAKW,iBAAiBkB,EAAIE,KAAKC,IAAKhC,KAAKQ,WAAWqB,EAAGd,EAAMS,SAC7DxB,KAAKW,iBAAiBmB,EAAIC,KAAKC,IAAKhC,KAAKQ,WAAWsB,EAAGf,EAAMW,SAC7D1B,KAAKU,aAAamB,EAAIE,KAAKE,IAAKjC,KAAKQ,WAAWqB,EAAGd,EAAMS,SACzDxB,KAAKU,aAAaoB,EAAIC,KAAKE,IAAKjC,KAAKQ,WAAWsB,EAAGf,EAAMW,SAEzD1B,KAAKC,QAAQK,MAAMiB,KAAOvB,KAAKU,aAAamB,EAAI,KAChD7B,KAAKC,QAAQK,MAAMmB,IAAMzB,KAAKU,aAAaoB,EAAI,KAC/C9B,KAAKC,QAAQK,MAAMqB,MAAU3B,KAAKW,iBAAiBkB,EAAI7B,KAAKU,aAAamB,EAAM,KAC/E7B,KAAKC,QAAQK,MAAMsB,OAAW5B,KAAKW,iBAAiBmB,EAAI9B,KAAKU,aAAaoB,EAAM,MAIjFlC,EAAgBwB,UAAUD,aAAe,WAExCnB,KAAKC,QAAQoB,cAAca,YAAalC,KAAKC,UAIvCL,EA5EgB,GAgFjBD,EAAMC","file":"../../interactive/SelectionHelper.js","sourcesContent":["define([\n\t\"skylark-threejs\"\n],function(THREE){\n\t/**\n\t * @author HypnosNova / https://www.threejs.org.cn/gallery\n\t */\n\n\tTHREE.SelectionHelper = ( function () {\n\n\t\tfunction SelectionHelper( selectionBox, renderer, cssClassName ) {\n\n\t\t\tthis.element = document.createElement( 'div' );\n\t\t\tthis.element.classList.add( cssClassName );\n\t\t\tthis.element.style.pointerEvents = 'none';\n\n\t\t\tthis.renderer = renderer;\n\n\t\t\tthis.startPoint = new THREE.Vector2();\n\t\t\tthis.pointTopLeft = new THREE.Vector2();\n\t\t\tthis.pointBottomRight = new THREE.Vector2();\n\n\t\t\tthis.isDown = false;\n\n\t\t\tthis.renderer.domElement.addEventListener( 'mousedown', function ( event ) {\n\n\t\t\t\tthis.isDown = true;\n\t\t\t\tthis.onSelectStart( event );\n\n\t\t\t}.bind( this ), false );\n\n\t\t\tthis.renderer.domElement.addEventListener( 'mousemove', function ( event ) {\n\n\t\t\t\tif ( this.isDown ) {\n\n\t\t\t\t\tthis.onSelectMove( event );\n\n\t\t\t\t}\n\n\t\t\t}.bind( this ), false );\n\n\t\t\tthis.renderer.domElement.addEventListener( 'mouseup', function ( event ) {\n\n\t\t\t\tthis.isDown = false;\n\t\t\t\tthis.onSelectOver( event );\n\n\t\t\t}.bind( this ), false );\n\n\t\t}\n\n\t\tSelectionHelper.prototype.onSelectStart = function ( event ) {\n\n\t\t\tthis.renderer.domElement.parentElement.appendChild( this.element );\n\n\t\t\tthis.element.style.left = event.clientX + 'px';\n\t\t\tthis.element.style.top = event.clientY + 'px';\n\t\t\tthis.element.style.width = '0px';\n\t\t\tthis.element.style.height = '0px';\n\n\t\t\tthis.startPoint.x = event.clientX;\n\t\t\tthis.startPoint.y = event.clientY;\n\n\t\t};\n\n\t\tSelectionHelper.prototype.onSelectMove = function ( event ) {\n\n\t\t\tthis.pointBottomRight.x = Math.max( this.startPoint.x, event.clientX );\n\t\t\tthis.pointBottomRight.y = Math.max( this.startPoint.y, event.clientY );\n\t\t\tthis.pointTopLeft.x = Math.min( this.startPoint.x, event.clientX );\n\t\t\tthis.pointTopLeft.y = Math.min( this.startPoint.y, event.clientY );\n\n\t\t\tthis.element.style.left = this.pointTopLeft.x + 'px';\n\t\t\tthis.element.style.top = this.pointTopLeft.y + 'px';\n\t\t\tthis.element.style.width = ( this.pointBottomRight.x - this.pointTopLeft.x ) + 'px';\n\t\t\tthis.element.style.height = ( this.pointBottomRight.y - this.pointTopLeft.y ) + 'px';\n\n\t\t};\n\n\t\tSelectionHelper.prototype.onSelectOver = function () {\n\n\t\t\tthis.element.parentElement.removeChild( this.element );\n\n\t\t};\n\n\t\treturn SelectionHelper;\n\n\t} )();\n\t\n\treturn THREE.SelectionHelper;\n});\n"]}