{"version":3,"sources":["utils/SceneUtils.js"],"names":["define","THREE","SceneUtils","createMeshesFromInstancedMesh","instancedMesh","group","Group","count","geometry","material","i","mesh","Mesh","getMatrixAt","matrix","decompose","position","quaternion","scale","add","copy","updateMatrixWorld","createMultiMaterialObject","materials","l","length","detach","child","parent","scene","console","warn","attach"],"mappings":";;;;;;;AAAAA,QACC,mBACC,SAASC,GAiEV,OA5DAA,EAAMC,YAELC,8BAA+B,SAAWC,GAQzC,IANA,IAAIC,EAAQ,IAAIJ,EAAMK,MAElBC,EAAQH,EAAcG,MACtBC,EAAWJ,EAAcI,SACzBC,EAAWL,EAAcK,SAEnBC,EAAI,EAAGA,EAAIH,EAAOG,IAAO,CAElC,IAAIC,EAAO,IAAIV,EAAMW,KAAMJ,EAAUC,GAErCL,EAAcS,YAAaH,EAAGC,EAAKG,QACnCH,EAAKG,OAAOC,UAAWJ,EAAKK,SAAUL,EAAKM,WAAYN,EAAKO,OAE5Db,EAAMc,IAAKR,GAOZ,OAHAN,EAAMe,KAAMhB,GACZC,EAAMgB,oBAEChB,GAIRiB,0BAA2B,SAAWd,EAAUe,GAI/C,IAFA,IAAIlB,EAAQ,IAAIJ,EAAMK,MAEZI,EAAI,EAAGc,EAAID,EAAUE,OAAQf,EAAIc,EAAGd,IAE7CL,EAAMc,IAAK,IAAIlB,EAAMW,KAAMJ,EAAUe,EAAWb,KAIjD,OAAOL,GAIRqB,OAAQ,SAAWC,EAAOC,EAAQC,GAEjCC,QAAQC,KAAM,sFAEdF,EAAMG,OAAQL,IAIfK,OAAQ,SAAWL,EAAOE,EAAOD,GAEhCE,QAAQC,KAAM,uFAEdH,EAAOI,OAAQL,KAMV1B,EAAMC","file":"../../utils/SceneUtils.js","sourcesContent":["define([\n\t\"skylark-threejs\"\n],function(THREE){\n\t/**\n\t * @author alteredq / http://alteredqualia.com/\n\t */\n\n\tTHREE.SceneUtils = {\n\n\t\tcreateMeshesFromInstancedMesh: function ( instancedMesh ) {\n\n\t\t\tvar group = new THREE.Group();\n\n\t\t\tvar count = instancedMesh.count;\n\t\t\tvar geometry = instancedMesh.geometry;\n\t\t\tvar material = instancedMesh.material;\n\n\t\t\tfor ( var i = 0; i < count; i ++ ) {\n\n\t\t\t\tvar mesh = new THREE.Mesh( geometry, material );\n\n\t\t\t\tinstancedMesh.getMatrixAt( i, mesh.matrix );\n\t\t\t\tmesh.matrix.decompose( mesh.position, mesh.quaternion, mesh.scale );\n\n\t\t\t\tgroup.add( mesh );\n\n\t\t\t}\n\n\t\t\tgroup.copy( instancedMesh );\n\t\t\tgroup.updateMatrixWorld(); // ensure correct world matrices of meshes\n\n\t\t\treturn group;\n\n\t\t},\n\n\t\tcreateMultiMaterialObject: function ( geometry, materials ) {\n\n\t\t\tvar group = new THREE.Group();\n\n\t\t\tfor ( var i = 0, l = materials.length; i < l; i ++ ) {\n\n\t\t\t\tgroup.add( new THREE.Mesh( geometry, materials[ i ] ) );\n\n\t\t\t}\n\n\t\t\treturn group;\n\n\t\t},\n\n\t\tdetach: function ( child, parent, scene ) {\n\n\t\t\tconsole.warn( 'THREE.SceneUtils: detach() has been deprecated. Use scene.attach( child ) instead.' );\n\n\t\t\tscene.attach( child );\n\n\t\t},\n\n\t\tattach: function ( child, scene, parent ) {\n\n\t\t\tconsole.warn( 'THREE.SceneUtils: attach() has been deprecated. Use parent.attach( child ) instead.' );\n\n\t\t\tparent.attach( child );\n\n\t\t}\n\n\t};\n\t\n\treturn THREE.SceneUtils;\n});\n"]}