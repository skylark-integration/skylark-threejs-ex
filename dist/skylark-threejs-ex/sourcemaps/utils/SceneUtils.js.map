{"version":3,"sources":["utils/SceneUtils.js"],"names":["define","THREE","threex","SceneUtils","createMeshesFromInstancedMesh","instancedMesh","group","Group","count","geometry","material","i","mesh","Mesh","getMatrixAt","matrix","decompose","position","quaternion","scale","add","copy","updateMatrixWorld","createMultiMaterialObject","materials","l","length","detach","child","parent","scene","console","warn","attach","utils"],"mappings":";;;;;;;AAAAA,QACI,kBACA,aACD,SACCC,EACAC,GAEA,aACA,IAAIC,GACAC,8BAA+B,SAAUC,GAKrC,IAJA,IAAIC,EAAQ,IAAIL,EAAMM,MAClBC,EAAQH,EAAcG,MACtBC,EAAWJ,EAAcI,SACzBC,EAAWL,EAAcK,SACpBC,EAAI,EAAGA,EAAIH,EAAOG,IAAK,CAC5B,IAAIC,EAAO,IAAIX,EAAMY,KAAKJ,EAAUC,GACpCL,EAAcS,YAAYH,EAAGC,EAAKG,QAClCH,EAAKG,OAAOC,UAAUJ,EAAKK,SAAUL,EAAKM,WAAYN,EAAKO,OAC3Db,EAAMc,IAAIR,GAId,OAFAN,EAAMe,KAAKhB,GACXC,EAAMgB,oBACChB,GAEXiB,0BAA2B,SAAUd,EAAUe,GAE3C,IADA,IAAIlB,EAAQ,IAAIL,EAAMM,MACbI,EAAI,EAAGc,EAAID,EAAUE,OAAQf,EAAIc,EAAGd,IACzCL,EAAMc,IAAI,IAAInB,EAAMY,KAAKJ,EAAUe,EAAUb,KAEjD,OAAOL,GAEXqB,OAAQ,SAAUC,EAAOC,EAAQC,GAC7BC,QAAQC,KAAK,sFACbF,EAAMG,OAAOL,IAEjBK,OAAQ,SAAUL,EAAOE,EAAOD,GAC5BE,QAAQC,KAAK,uFACbH,EAAOI,OAAOL,KAGtB,OAAO1B,EAAOgC,MAAM/B,WAAaA","file":"../../utils/SceneUtils.js","sourcesContent":["define([\r\n    \"skylark-threejs\",\r\n    \"../threex\"\r\n], function (\r\n    THREE,\r\n    threex\r\n) {\r\n    'use strict';\r\n    var SceneUtils = {\r\n        createMeshesFromInstancedMesh: function (instancedMesh) {\r\n            var group = new THREE.Group();\r\n            var count = instancedMesh.count;\r\n            var geometry = instancedMesh.geometry;\r\n            var material = instancedMesh.material;\r\n            for (var i = 0; i < count; i++) {\r\n                var mesh = new THREE.Mesh(geometry, material);\r\n                instancedMesh.getMatrixAt(i, mesh.matrix);\r\n                mesh.matrix.decompose(mesh.position, mesh.quaternion, mesh.scale);\r\n                group.add(mesh);\r\n            }\r\n            group.copy(instancedMesh);\r\n            group.updateMatrixWorld();\r\n            return group;\r\n        },\r\n        createMultiMaterialObject: function (geometry, materials) {\r\n            var group = new THREE.Group();\r\n            for (var i = 0, l = materials.length; i < l; i++) {\r\n                group.add(new THREE.Mesh(geometry, materials[i]));\r\n            }\r\n            return group;\r\n        },\r\n        detach: function (child, parent, scene) {\r\n            console.warn('THREE.SceneUtils: detach() has been deprecated. Use scene.attach( child ) instead.');\r\n            scene.attach(child);\r\n        },\r\n        attach: function (child, scene, parent) {\r\n            console.warn('THREE.SceneUtils: attach() has been deprecated. Use parent.attach( child ) instead.');\r\n            parent.attach(child);\r\n        }\r\n    };\r\n    return threex.utils.SceneUtils = SceneUtils;\r\n});"]}