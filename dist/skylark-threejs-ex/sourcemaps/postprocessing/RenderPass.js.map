{"version":3,"sources":["postprocessing/RenderPass.js"],"names":["define","threex","Pass","RenderPass","scene","camera","overrideMaterial","clearColor","clearAlpha","call","this","undefined","clear","clearDepth","needsSwap","prototype","Object","assign","create","constructor","render","renderer","writeBuffer","readBuffer","oldClearColor","oldClearAlpha","oldOverrideMaterial","oldAutoClear","autoClear","getClearColor","getHex","getClearAlpha","setClearColor","setRenderTarget","renderToScreen","autoClearColor","autoClearDepth","autoClearStencil","postprocessing"],"mappings":";;;;;;;AAAAA,QACK,YACD,UACD,SACCC,EACAC,GAEA,aACA,IAAIC,EAAa,SAAUC,EAAOC,EAAQC,EAAkBC,EAAYC,GACpEN,EAAKO,KAAKC,MACVA,KAAKN,MAAQA,EACbM,KAAKL,OAASA,EACdK,KAAKJ,iBAAmBA,EACxBI,KAAKH,WAAaA,EAClBG,KAAKF,gBAA4BG,IAAfH,EAA2BA,EAAa,EAC1DE,KAAKE,OAAQ,EACbF,KAAKG,YAAa,EAClBH,KAAKI,WAAY,GAkCrB,OAhCAX,EAAWY,UAAYC,OAAOC,OAAOD,OAAOE,OAAOhB,EAAKa,YACpDI,YAAahB,EACbiB,OAAQ,SAAUC,EAAUC,EAAaC,GACrC,IAEIC,EAAeC,EAAeC,EAF9BC,EAAeN,EAASO,UAC5BP,EAASO,WAAY,OAESjB,IAA1BD,KAAKJ,mBACLoB,EAAsBhB,KAAKN,MAAME,iBACjCI,KAAKN,MAAME,iBAAmBI,KAAKJ,kBAEnCI,KAAKH,aACLiB,EAAgBH,EAASQ,gBAAgBC,SACzCL,EAAgBJ,EAASU,gBACzBV,EAASW,cAActB,KAAKH,WAAYG,KAAKF,aAE7CE,KAAKG,YACLQ,EAASR,aAEbQ,EAASY,gBAAgBvB,KAAKwB,eAAiB,KAAOX,GAClDb,KAAKE,OACLS,EAAST,MAAMS,EAASc,eAAgBd,EAASe,eAAgBf,EAASgB,kBAC9EhB,EAASD,OAAOV,KAAKN,MAAOM,KAAKL,QAC7BK,KAAKH,YACLc,EAASW,cAAcR,EAAeC,QAEZd,IAA1BD,KAAKJ,mBACLI,KAAKN,MAAME,iBAAmBoB,GAElCL,EAASO,UAAYD,KAItB1B,EAAOqC,eAAenC,WAAaA","file":"../../postprocessing/RenderPass.js","sourcesContent":["define([\n     \"../threex\",\n    './Pass'\n], function (\n    threex,\n    Pass\n) {\n    'use strict';\n    var RenderPass = function (scene, camera, overrideMaterial, clearColor, clearAlpha) {\n        Pass.call(this);\n        this.scene = scene;\n        this.camera = camera;\n        this.overrideMaterial = overrideMaterial;\n        this.clearColor = clearColor;\n        this.clearAlpha = clearAlpha !== undefined ? clearAlpha : 0;\n        this.clear = true;\n        this.clearDepth = false;\n        this.needsSwap = false;\n    };\n    RenderPass.prototype = Object.assign(Object.create(Pass.prototype), {\n        constructor: RenderPass,\n        render: function (renderer, writeBuffer, readBuffer) {\n            var oldAutoClear = renderer.autoClear;\n            renderer.autoClear = false;\n            var oldClearColor, oldClearAlpha, oldOverrideMaterial;\n            if (this.overrideMaterial !== undefined) {\n                oldOverrideMaterial = this.scene.overrideMaterial;\n                this.scene.overrideMaterial = this.overrideMaterial;\n            }\n            if (this.clearColor) {\n                oldClearColor = renderer.getClearColor().getHex();\n                oldClearAlpha = renderer.getClearAlpha();\n                renderer.setClearColor(this.clearColor, this.clearAlpha);\n            }\n            if (this.clearDepth) {\n                renderer.clearDepth();\n            }\n            renderer.setRenderTarget(this.renderToScreen ? null : readBuffer);\n            if (this.clear)\n                renderer.clear(renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil);\n            renderer.render(this.scene, this.camera);\n            if (this.clearColor) {\n                renderer.setClearColor(oldClearColor, oldClearAlpha);\n            }\n            if (this.overrideMaterial !== undefined) {\n                this.scene.overrideMaterial = oldOverrideMaterial;\n            }\n            renderer.autoClear = oldAutoClear;\n        }\n    });\n\n    return threex.postprocessing.RenderPass = RenderPass;\n});"]}