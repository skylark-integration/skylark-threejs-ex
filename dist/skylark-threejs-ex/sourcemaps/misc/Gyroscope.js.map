{"version":3,"sources":["misc/Gyroscope.js"],"names":["define","THREE","translationObject","quaternionObject","scaleObject","translationWorld","quaternionWorld","scaleWorld","Gyroscope","Object3D","call","this","prototype","Object","create","constructor","updateMatrixWorld","Vector3","Quaternion","force","matrixAutoUpdate","updateMatrix","matrixWorldNeedsUpdate","parent","matrixWorld","multiplyMatrices","matrix","decompose","compose","copy","i","l","children","length"],"mappings":";;;;;;;AAAAA,QACC,mBACC,SAASC,GAcsC,IAE3CC,EACAC,EACAC,EAEAC,EACAC,EACAC,EA6CL,OA9DAN,EAAMO,UAAY,WAEjBP,EAAMQ,SAASC,KAAMC,OAItBV,EAAMO,UAAUI,UAAYC,OAAOC,OAAQb,EAAMQ,SAASG,WAC1DX,EAAMO,UAAUI,UAAUG,YAAcd,EAAMO,UAE9CP,EAAMO,UAAUI,UAAUI,mBAErBd,EAAoB,IAAID,EAAMgB,QAC9Bd,EAAmB,IAAIF,EAAMiB,WAC7Bd,EAAc,IAAIH,EAAMgB,QAExBZ,EAAmB,IAAIJ,EAAMgB,QAC7BX,EAAkB,IAAIL,EAAMiB,WAC5BX,EAAa,IAAIN,EAAMgB,QAEpB,SAA4BE,GAElCR,KAAKS,kBAAoBT,KAAKU,gBAIzBV,KAAKW,wBAA0BH,KAEd,OAAhBR,KAAKY,QAETZ,KAAKa,YAAYC,iBAAkBd,KAAKY,OAAOC,YAAab,KAAKe,QAEjEf,KAAKa,YAAYG,UAAWtB,EAAkBC,EAAiBC,GAC/DI,KAAKe,OAAOC,UAAWzB,EAAmBC,EAAkBC,GAE5DO,KAAKa,YAAYI,QAASvB,EAAkBF,EAAkBI,IAK9DI,KAAKa,YAAYK,KAAMlB,KAAKe,QAK7Bf,KAAKW,wBAAyB,EAE9BH,GAAQ,GAMT,IAAM,IAAIW,EAAI,EAAGC,EAAIpB,KAAKqB,SAASC,OAAQH,EAAIC,EAAGD,IAEjDnB,KAAKqB,SAAUF,GAAId,kBAAmBG,KAQlClB,EAAMO","file":"../../misc/Gyroscope.js","sourcesContent":["define([\n\t\"skylark-threejs\"\n],function(THREE){\n\t/**\n\t * @author alteredq / http://alteredqualia.com/\n\t */\n\n\tTHREE.Gyroscope = function () {\n\n\t\tTHREE.Object3D.call( this );\n\n\t};\n\n\tTHREE.Gyroscope.prototype = Object.create( THREE.Object3D.prototype );\n\tTHREE.Gyroscope.prototype.constructor = THREE.Gyroscope;\n\n\tTHREE.Gyroscope.prototype.updateMatrixWorld = ( function () {\n\n\t\tvar translationObject = new THREE.Vector3();\n\t\tvar quaternionObject = new THREE.Quaternion();\n\t\tvar scaleObject = new THREE.Vector3();\n\n\t\tvar translationWorld = new THREE.Vector3();\n\t\tvar quaternionWorld = new THREE.Quaternion();\n\t\tvar scaleWorld = new THREE.Vector3();\n\n\t\treturn function updateMatrixWorld( force ) {\n\n\t\t\tthis.matrixAutoUpdate && this.updateMatrix();\n\n\t\t\t// update matrixWorld\n\n\t\t\tif ( this.matrixWorldNeedsUpdate || force ) {\n\n\t\t\t\tif ( this.parent !== null ) {\n\n\t\t\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t\t\t\tthis.matrixWorld.decompose( translationWorld, quaternionWorld, scaleWorld );\n\t\t\t\t\tthis.matrix.decompose( translationObject, quaternionObject, scaleObject );\n\n\t\t\t\t\tthis.matrixWorld.compose( translationWorld, quaternionObject, scaleWorld );\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t\t\t}\n\n\n\t\t\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\t\t\tforce = true;\n\n\t\t\t}\n\n\t\t\t// update children\n\n\t\t\tfor ( var i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\t\tthis.children[ i ].updateMatrixWorld( force );\n\n\t\t\t}\n\n\t\t};\n\n\t}() );\n\t\n\treturn THREE.Gyroscope;\n});\n"]}