{"version":3,"sources":["misc/Gyroscope.js"],"names":["define","THREE","threex","translationObject","quaternionObject","scaleObject","translationWorld","quaternionWorld","scaleWorld","Gyroscope","Object3D","call","this","prototype","Object","create","constructor","updateMatrixWorld","Vector3","Quaternion","force","matrixAutoUpdate","updateMatrix","matrixWorldNeedsUpdate","parent","matrixWorld","multiplyMatrices","matrix","decompose","compose","copy","i","l","children","length","misc"],"mappings":";;;;;;;AAAAA,QACI,kBACA,aACD,SACCC,EACAC,GAEA,aACA,IAMQC,EACAC,EACAC,EACAC,EACAC,EACAC,EAXJC,EAAY,WACZR,EAAMS,SAASC,KAAKC,OA+BxB,OA7BAH,EAAUI,UAAYC,OAAOC,OAAOd,EAAMS,SAASG,YAC/BG,YAAcP,EAClCA,EAAUI,UAAUI,mBACZd,EAAoB,IAAIF,EAAMiB,QAC9Bd,EAAmB,IAAIH,EAAMkB,WAC7Bd,EAAc,IAAIJ,EAAMiB,QACxBZ,EAAmB,IAAIL,EAAMiB,QAC7BX,EAAkB,IAAIN,EAAMkB,WAC5BX,EAAa,IAAIP,EAAMiB,QACpB,SAA2BE,GAC9BR,KAAKS,kBAAoBT,KAAKU,gBAC1BV,KAAKW,wBAA0BH,KACX,OAAhBR,KAAKY,QACLZ,KAAKa,YAAYC,iBAAiBd,KAAKY,OAAOC,YAAab,KAAKe,QAChEf,KAAKa,YAAYG,UAAUtB,EAAkBC,EAAiBC,GAC9DI,KAAKe,OAAOC,UAAUzB,EAAmBC,EAAkBC,GAC3DO,KAAKa,YAAYI,QAAQvB,EAAkBF,EAAkBI,IAE7DI,KAAKa,YAAYK,KAAKlB,KAAKe,QAE/Bf,KAAKW,wBAAyB,EAC9BH,GAAQ,GAEZ,IAAK,IAAIW,EAAI,EAAGC,EAAIpB,KAAKqB,SAASC,OAAQH,EAAIC,EAAGD,IAC7CnB,KAAKqB,SAASF,GAAGd,kBAAkBG,KAKxClB,EAAOiC,KAAK1B,UAAYA","file":"../../misc/Gyroscope.js","sourcesContent":["define([\r\n    \"skylark-threejs\",\r\n    \"../threex\"\r\n], function (\r\n    THREE,\r\n    threex\r\n) {\r\n    'use strict';\r\n    var Gyroscope = function () {\r\n        THREE.Object3D.call(this);\r\n    };\r\n    Gyroscope.prototype = Object.create(THREE.Object3D.prototype);\r\n    Gyroscope.prototype.constructor = Gyroscope;\r\n    Gyroscope.prototype.updateMatrixWorld = function () {\r\n        var translationObject = new THREE.Vector3();\r\n        var quaternionObject = new THREE.Quaternion();\r\n        var scaleObject = new THREE.Vector3();\r\n        var translationWorld = new THREE.Vector3();\r\n        var quaternionWorld = new THREE.Quaternion();\r\n        var scaleWorld = new THREE.Vector3();\r\n        return function updateMatrixWorld(force) {\r\n            this.matrixAutoUpdate && this.updateMatrix();\r\n            if (this.matrixWorldNeedsUpdate || force) {\r\n                if (this.parent !== null) {\r\n                    this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix);\r\n                    this.matrixWorld.decompose(translationWorld, quaternionWorld, scaleWorld);\r\n                    this.matrix.decompose(translationObject, quaternionObject, scaleObject);\r\n                    this.matrixWorld.compose(translationWorld, quaternionObject, scaleWorld);\r\n                } else {\r\n                    this.matrixWorld.copy(this.matrix);\r\n                }\r\n                this.matrixWorldNeedsUpdate = false;\r\n                force = true;\r\n            }\r\n            for (var i = 0, l = this.children.length; i < l; i++) {\r\n                this.children[i].updateMatrixWorld(force);\r\n            }\r\n        };\r\n    }();\r\n\r\n    return threex.misc.Gyroscope = Gyroscope;\r\n});"]}